{
  "version": 3,
  "sources": ["../../../node_modules/level-supports/index.js", "../../../node_modules/module-error/index.js", "../../../node_modules/level-transcoder/lib/text-endec.js", "../../../node_modules/level-transcoder/lib/encoding.js", "../../../node_modules/level-transcoder/lib/formats.js", "../../../node_modules/level-transcoder/lib/encodings.js", "../../../node_modules/level-transcoder/index.js", "../../../node_modules/events/events.js", "../../../node_modules/maybe-combine-errors/index.js", "../../../node_modules/abstract-level/lib/common.js", "../../../node_modules/abstract-level/lib/errors.js", "../../../node_modules/abstract-level/abstract-iterator.js", "../../../node_modules/abstract-level/lib/default-kv-iterator.js", "../../../node_modules/abstract-level/lib/deferred-iterator.js", "../../../node_modules/abstract-level/lib/prefixes.js", "../../../node_modules/abstract-level/lib/prewrite-batch.js", "../../../node_modules/abstract-level/abstract-chained-batch.js", "../../../node_modules/abstract-level/lib/default-chained-batch.js", "../../../node_modules/abstract-level/lib/hooks.js", "../../../node_modules/abstract-level/lib/event-monitor.js", "../../../node_modules/abstract-level/lib/deferred-queue.js", "../../../node_modules/abstract-level/lib/range-options.js", "../../../node_modules/abstract-level/lib/abstract-sublevel-iterator.js", "../../../node_modules/abstract-level/lib/abstract-sublevel.js", "../../../node_modules/abstract-level/abstract-level.js", "../../../node_modules/abstract-level/abstract-snapshot.js", "../../../node_modules/abstract-level/index.js", "../../../node_modules/browser-level/util/key-range.js", "../../../node_modules/browser-level/util/deserialize.js", "../../../node_modules/browser-level/iterator.js", "../../../node_modules/browser-level/util/clear.js", "../../../node_modules/browser-level/index.js", "../../../node_modules/level/browser.js", "browser-external:crypto", "../../../node_modules/superjson/src/double-indexed-kv.ts", "../../../node_modules/superjson/src/registry.ts", "../../../node_modules/superjson/src/class-registry.ts", "../../../node_modules/superjson/src/util.ts", "../../../node_modules/superjson/src/custom-transformer-registry.ts", "../../../node_modules/superjson/src/is.ts", "../../../node_modules/superjson/src/pathstringifier.ts", "../../../node_modules/superjson/src/transformer.ts", "../../../node_modules/superjson/src/accessDeep.ts", "../../../node_modules/superjson/src/plainer.ts", "../../../node_modules/is-what/dist/index.js", "../../../node_modules/copy-anything/dist/index.js", "../../../node_modules/superjson/src/index.ts", "../../../node_modules/@midnight-ntwrk/midnight-js-level-private-state-provider/src/storage-encryption.ts", "../../../node_modules/@midnight-ntwrk/midnight-js-level-private-state-provider/src/level-private-state-provider.ts"],
  "sourcesContent": ["'use strict'\n\nexports.supports = function supports (...manifests) {\n  const manifest = manifests.reduce((acc, m) => Object.assign(acc, m), {})\n\n  // Snapshots is an alias for backwards compatibility\n  const implicitSnapshots = manifest.implicitSnapshots || manifest.snapshots || false\n  const explicitSnapshots = manifest.explicitSnapshots || false\n\n  return Object.assign(manifest, {\n    implicitSnapshots,\n    explicitSnapshots,\n    snapshots: implicitSnapshots,\n    has: manifest.has || false,\n    permanence: manifest.permanence || false,\n    seek: manifest.seek || false,\n    createIfMissing: manifest.createIfMissing || false,\n    errorIfExists: manifest.errorIfExists || false,\n    deferredOpen: manifest.deferredOpen || false,\n    streams: manifest.streams || false,\n    encodings: Object.assign({}, manifest.encodings),\n    events: Object.assign({}, manifest.events),\n    additionalMethods: Object.assign({}, manifest.additionalMethods),\n    signals: Object.assign({}, manifest.signals)\n  })\n}\n", "'use strict'\n\nmodule.exports = class ModuleError extends Error {\n  /**\n   * @param {string} message Error message\n   * @param {{ code?: string, cause?: Error, expected?: boolean, transient?: boolean }} [options]\n   */\n  constructor (message, options) {\n    super(message || '')\n\n    if (typeof options === 'object' && options !== null) {\n      if (options.code) this.code = String(options.code)\n      if (options.expected) this.expected = true\n      if (options.transient) this.transient = true\n      if (options.cause) this.cause = options.cause\n    }\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor)\n    }\n  }\n}\n", "'use strict'\n\n/** @type {{ textEncoder: TextEncoder, textDecoder: TextDecoder }|null} */\nlet lazy = null\n\n/**\n * Get semi-global instances of TextEncoder and TextDecoder.\n * @returns {{ textEncoder: TextEncoder, textDecoder: TextDecoder }}\n */\nmodule.exports = function () {\n  if (lazy === null) {\n    lazy = {\n      textEncoder: new TextEncoder(),\n      textDecoder: new TextDecoder()\n    }\n  }\n\n  return lazy\n}\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst formats = new Set(['buffer', 'view', 'utf8'])\n\n/**\n * @template TIn, TFormat, TOut\n * @abstract\n */\nclass Encoding {\n  /**\n   * @param {IEncoding<TIn,TFormat,TOut>} options\n   */\n  constructor (options) {\n    /** @type {(data: TIn) => TFormat} */\n    this.encode = options.encode || this.encode\n\n    /** @type {(data: TFormat) => TOut} */\n    this.decode = options.decode || this.decode\n\n    /** @type {string} */\n    this.name = options.name || this.name\n\n    /** @type {string} */\n    this.format = options.format || this.format\n\n    if (typeof this.encode !== 'function') {\n      throw new TypeError(\"The 'encode' property must be a function\")\n    }\n\n    if (typeof this.decode !== 'function') {\n      throw new TypeError(\"The 'decode' property must be a function\")\n    }\n\n    this.encode = this.encode.bind(this)\n    this.decode = this.decode.bind(this)\n\n    if (typeof this.name !== 'string' || this.name === '') {\n      throw new TypeError(\"The 'name' property must be a string\")\n    }\n\n    if (typeof this.format !== 'string' || !formats.has(this.format)) {\n      throw new TypeError(\"The 'format' property must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    if (options.createViewTranscoder) {\n      this.createViewTranscoder = options.createViewTranscoder\n    }\n\n    if (options.createBufferTranscoder) {\n      this.createBufferTranscoder = options.createBufferTranscoder\n    }\n\n    if (options.createUTF8Transcoder) {\n      this.createUTF8Transcoder = options.createUTF8Transcoder\n    }\n  }\n\n  get commonName () {\n    return /** @type {string} */ (this.name.split('+')[0])\n  }\n\n  /** @return {BufferFormat<TIn,TOut>} */\n  createBufferTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'buffer'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {ViewFormat<TIn,TOut>} */\n  createViewTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'view'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {UTF8Format<TIn,TOut>} */\n  createUTF8Transcoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'utf8'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n}\n\nexports.Encoding = Encoding\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @typedef {import('./formats').BufferFormat<TIn,TOut>} BufferFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').ViewFormat<TIn,TOut>} ViewFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').UTF8Format<TIn,TOut>} UTF8Format\n * @template TIn, TOut\n */\n", "'use strict'\n\nconst { Buffer } = require('buffer') || {}\nconst { Encoding } = require('./encoding')\nconst textEndec = require('./text-endec')\n\n/**\n * @template TIn, TOut\n * @extends {Encoding<TIn,Buffer,TOut>}\n */\nclass BufferFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Buffer, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'buffer' })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: this.encode, // Buffer is a view (UInt8Array)\n      decode: (data) => this.decode(\n        Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      ),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,Uint8Array,TOut>}\n * @template TIn, TOut\n */\nclass ViewFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Uint8Array, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'view' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => {\n        const view = this.encode(data)\n        return Buffer.from(view.buffer, view.byteOffset, view.byteLength)\n      },\n      decode: this.decode, // Buffer is a view (UInt8Array)\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,string,TOut>}\n * @template TIn, TOut\n */\nclass UTF8Format extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, string, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'utf8' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => Buffer.from(this.encode(data), 'utf8'),\n      decode: (data) => this.decode(data.toString('utf8')),\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    const { textEncoder, textDecoder } = textEndec()\n\n    return new ViewFormat({\n      encode: (data) => textEncoder.encode(this.encode(data)),\n      decode: (data) => this.decode(textDecoder.decode(data)),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createUTF8Transcoder () {\n    return this\n  }\n}\n\nexports.BufferFormat = BufferFormat\nexports.ViewFormat = ViewFormat\nexports.UTF8Format = UTF8Format\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n", "'use strict'\n\nconst { Buffer } = require('buffer') || { Buffer: { isBuffer: () => false } }\nconst { textEncoder, textDecoder } = require('./text-endec')()\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./formats')\n\n/** @type {<T>(v: T) => v} */\nconst identity = (v) => v\n\n/**\n * @type {typeof import('./encodings').utf8}\n */\nexports.utf8 = new UTF8Format({\n  encode: function (data) {\n    // On node 16.9.1 buffer.toString() is 5x faster than TextDecoder\n    return Buffer.isBuffer(data)\n      ? data.toString('utf8')\n      : ArrayBuffer.isView(data)\n        ? textDecoder.decode(data)\n        : String(data)\n  },\n  decode: identity,\n  name: 'utf8',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n      },\n      decode: function (data) {\n        return textDecoder.decode(data)\n      },\n      name: `${this.name}+view`\n    })\n  },\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return data.toString('utf8')\n      },\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').json}\n */\nexports.json = new UTF8Format({\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  name: 'json'\n})\n\n/**\n * @type {typeof import('./encodings').buffer}\n */\nexports.buffer = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data)\n      ? data\n      : ArrayBuffer.isView(data)\n        ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n        : Buffer.from(String(data), 'utf8')\n  },\n  decode: identity,\n  name: 'buffer',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      },\n      name: `${this.name}+view`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').view}\n */\nexports.view = new ViewFormat({\n  encode: function (data) {\n    return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n  },\n  decode: identity,\n  name: 'view',\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: identity,\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').hex}\n */\nexports.hex = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'hex')\n  },\n  decode: function (buffer) {\n    return buffer.toString('hex')\n  },\n  name: 'hex'\n})\n\n/**\n * @type {typeof import('./encodings').base64}\n */\nexports.base64 = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'base64')\n  },\n  decode: function (buffer) {\n    return buffer.toString('base64')\n  },\n  name: 'base64'\n})\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst encodings = require('./lib/encodings')\nconst { Encoding } = require('./lib/encoding')\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./lib/formats')\n\nconst kFormats = Symbol('formats')\nconst kEncodings = Symbol('encodings')\nconst validFormats = new Set(['buffer', 'view', 'utf8'])\n\n/** @template T */\nclass Transcoder {\n  /**\n   * @param {Array<'buffer'|'view'|'utf8'>} formats\n   */\n  constructor (formats) {\n    if (!Array.isArray(formats)) {\n      throw new TypeError(\"The first argument 'formats' must be an array\")\n    } else if (!formats.every(f => validFormats.has(f))) {\n      // Note: we only only support aliases in key- and valueEncoding options (where we already did)\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    /** @type {Map<string|MixedEncoding<any, any, any>, Encoding<any, any, any>>} */\n    this[kEncodings] = new Map()\n    this[kFormats] = new Set(formats)\n\n    // Register encodings (done early in order to populate encodings())\n    for (const k in encodings) {\n      try {\n        this.encoding(k)\n      } catch (err) {\n        /* istanbul ignore if: assertion */\n        if (err.code !== 'LEVEL_ENCODING_NOT_SUPPORTED') throw err\n      }\n    }\n  }\n\n  /**\n   * @returns {Array<Encoding<any,T,any>>}\n   */\n  encodings () {\n    return Array.from(new Set(this[kEncodings].values()))\n  }\n\n  /**\n   * @param {string|MixedEncoding<any, any, any>} encoding\n   * @returns {Encoding<any, T, any>}\n   */\n  encoding (encoding) {\n    let resolved = this[kEncodings].get(encoding)\n\n    if (resolved === undefined) {\n      if (typeof encoding === 'string' && encoding !== '') {\n        resolved = lookup[encoding]\n\n        if (!resolved) {\n          throw new ModuleError(`Encoding '${encoding}' is not found`, {\n            code: 'LEVEL_ENCODING_NOT_FOUND'\n          })\n        }\n      } else if (typeof encoding !== 'object' || encoding === null) {\n        throw new TypeError(\"First argument 'encoding' must be a string or object\")\n      } else {\n        resolved = from(encoding)\n      }\n\n      const { name, format } = resolved\n\n      if (!this[kFormats].has(format)) {\n        if (this[kFormats].has('view')) {\n          resolved = resolved.createViewTranscoder()\n        } else if (this[kFormats].has('buffer')) {\n          resolved = resolved.createBufferTranscoder()\n        } else if (this[kFormats].has('utf8')) {\n          resolved = resolved.createUTF8Transcoder()\n        } else {\n          throw new ModuleError(`Encoding '${name}' cannot be transcoded`, {\n            code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n          })\n        }\n      }\n\n      for (const k of [encoding, name, resolved.name, resolved.commonName]) {\n        this[kEncodings].set(k, resolved)\n      }\n    }\n\n    return resolved\n  }\n}\n\nexports.Transcoder = Transcoder\n\n/**\n * @param {MixedEncoding<any, any, any>} options\n * @returns {Encoding<any, any, any>}\n */\nfunction from (options) {\n  if (options instanceof Encoding) {\n    return options\n  }\n\n  // Loosely typed for ecosystem compatibility\n  const maybeType = 'type' in options && typeof options.type === 'string' ? options.type : undefined\n  const name = options.name || maybeType || `anonymous-${anonymousCount++}`\n\n  switch (detectFormat(options)) {\n    case 'view': return new ViewFormat({ ...options, name })\n    case 'utf8': return new UTF8Format({ ...options, name })\n    case 'buffer': return new BufferFormat({ ...options, name })\n    default: {\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n  }\n}\n\n/**\n * If format is not provided, fallback to detecting `level-codec`\n * or `multiformats` encodings, else assume a format of buffer.\n * @param {MixedEncoding<any, any, any>} options\n * @returns {string}\n */\nfunction detectFormat (options) {\n  if ('format' in options && options.format !== undefined) {\n    return options.format\n  } else if ('buffer' in options && typeof options.buffer === 'boolean') {\n    return options.buffer ? 'buffer' : 'utf8' // level-codec\n  } else if ('code' in options && Number.isInteger(options.code)) {\n    return 'view' // multiformats\n  } else {\n    return 'buffer'\n  }\n}\n\n/**\n * @typedef {import('./lib/encoding').MixedEncoding<TIn,TFormat,TOut>} MixedEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst aliases = {\n  binary: encodings.buffer,\n  'utf-8': encodings.utf8\n}\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst lookup = {\n  ...encodings,\n  ...aliases\n}\n\nlet anonymousCount = 0\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n", "'use strict'\n\nconst kErrors = Symbol('kErrors')\n\nmodule.exports = function (errors) {\n  errors = errors.filter(defined)\n\n  if (errors.length === 0) return\n  if (errors.length === 1) return errors[0]\n\n  return new CombinedError(errors)\n}\n\nclass CombinedError extends Error {\n  constructor (errors) {\n    const unique = new Set(errors.map(getMessage).filter(Boolean))\n    const message = Array.from(unique).join('; ')\n\n    super(message)\n\n    value(this, 'name', 'CombinedError')\n    value(this, kErrors, errors)\n\n    getter(this, 'stack', () => errors.map(getStack).join('\\n\\n'))\n    getter(this, 'transient', () => errors.length > 0 && errors.every(transient))\n    getter(this, 'expected', () => errors.length > 0 && errors.every(expected))\n  }\n\n  [Symbol.iterator] () {\n    return this[kErrors][Symbol.iterator]()\n  }\n}\n\nfunction value (obj, prop, value) {\n  Object.defineProperty(obj, prop, { value })\n}\n\nfunction getter (obj, prop, get) {\n  Object.defineProperty(obj, prop, { get })\n}\n\nfunction defined (err) {\n  return err != null\n}\n\nfunction getMessage (err) {\n  return err.message\n}\n\nfunction getStack (err) {\n  return err.stack\n}\n\nfunction transient (err) {\n  return err.transient === true\n}\n\nfunction expected (err) {\n  return err.expected === true\n}\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst deprecations = new Set()\n\nexports.getOptions = function (options, def) {\n  if (typeof options === 'object' && options !== null) {\n    return options\n  }\n\n  if (def !== undefined) {\n    return def\n  }\n\n  return {}\n}\n\nexports.emptyOptions = Object.freeze({})\nexports.noop = function () {}\nexports.resolvedPromise = Promise.resolve()\n\nexports.deprecate = function (message) {\n  if (!deprecations.has(message)) {\n    deprecations.add(message)\n\n    // Avoid polyfills\n    const c = globalThis.console\n\n    if (typeof c !== 'undefined' && typeof c.warn === 'function') {\n      c.warn(new ModuleError(message, { code: 'LEVEL_LEGACY' }))\n    }\n  }\n}\n", "'use strict'\n\nconst ModuleError = require('module-error')\n\nclass AbortError extends ModuleError {\n  constructor (cause) {\n    super('Operation has been aborted', {\n      code: 'LEVEL_ABORTED',\n      cause\n    })\n  }\n\n  // Set name to AbortError for web compatibility. See:\n  // https://dom.spec.whatwg.org/#aborting-ongoing-activities\n  // https://github.com/nodejs/node/pull/35911#discussion_r515779306\n  get name () {\n    return 'AbortError'\n  }\n}\n\nexports.AbortError = AbortError\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst combineErrors = require('maybe-combine-errors')\nconst { getOptions, emptyOptions, noop } = require('./lib/common')\nconst { AbortError } = require('./lib/errors')\n\nconst kDecodeOne = Symbol('decodeOne')\nconst kDecodeMany = Symbol('decodeMany')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\n\n// This class is an internal utility for common functionality between AbstractIterator,\n// AbstractKeyIterator and AbstractValueIterator. It's not exported.\nclass CommonIterator {\n  #working = false\n  #pendingClose = null\n  #closingPromise = null\n  #count = 0\n  #signal\n  #limit\n  #ended\n  #snapshot\n\n  constructor (db, options) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    if (typeof options !== 'object' || options === null) {\n      throw new TypeError('The second argument must be an options object')\n    }\n\n    this[kKeyEncoding] = options[kKeyEncoding]\n    this[kValueEncoding] = options[kValueEncoding]\n\n    this.#limit = Number.isInteger(options.limit) && options.limit >= 0 ? options.limit : Infinity\n    this.#signal = options.signal != null ? options.signal : null\n    this.#snapshot = options.snapshot != null ? options.snapshot : null\n\n    // Ending means reaching the natural end of the data and (unlike closing) that can\n    // be reset by seek(), unless the limit was reached.\n    this.#ended = false\n\n    this.db = db\n    this.db.attachResource(this)\n  }\n\n  get count () {\n    return this.#count\n  }\n\n  get limit () {\n    return this.#limit\n  }\n\n  async next () {\n    this.#startWork()\n\n    try {\n      if (this.#ended || this.#count >= this.#limit) {\n        this.#ended = true\n        return undefined\n      }\n\n      let item = await this._next()\n\n      if (item === undefined) {\n        this.#ended = true\n        return undefined\n      }\n\n      try {\n        item = this[kDecodeOne](item)\n      } catch (err) {\n        throw new IteratorDecodeError(err)\n      }\n\n      this.#count++\n      return item\n    } finally {\n      this.#endWork()\n    }\n  }\n\n  async _next () {}\n\n  async nextv (size, options) {\n    if (!Number.isInteger(size)) {\n      throw new TypeError(\"The first argument 'size' must be an integer\")\n    }\n\n    options = getOptions(options, emptyOptions)\n\n    if (size < 1) size = 1\n    if (this.#limit < Infinity) size = Math.min(size, this.#limit - this.#count)\n\n    this.#startWork()\n\n    try {\n      if (this.#ended || size <= 0) {\n        this.#ended = true\n        return []\n      }\n\n      const items = await this._nextv(size, options)\n\n      if (items.length === 0) {\n        this.#ended = true\n        return items\n      }\n\n      try {\n        this[kDecodeMany](items)\n      } catch (err) {\n        throw new IteratorDecodeError(err)\n      }\n\n      this.#count += items.length\n      return items\n    } finally {\n      this.#endWork()\n    }\n  }\n\n  async _nextv (size, options) {\n    const acc = []\n\n    while (acc.length < size) {\n      const item = await this._next(options)\n\n      if (item !== undefined) {\n        acc.push(item)\n      } else {\n        // Must track this here because we're directly calling _next()\n        this.#ended = true\n        break\n      }\n    }\n\n    return acc\n  }\n\n  async all (options) {\n    options = getOptions(options, emptyOptions)\n    this.#startWork()\n\n    try {\n      if (this.#ended || this.#count >= this.#limit) {\n        return []\n      }\n\n      const items = await this._all(options)\n\n      try {\n        this[kDecodeMany](items)\n      } catch (err) {\n        throw new IteratorDecodeError(err)\n      }\n\n      this.#count += items.length\n      return items\n    } catch (err) {\n      this.#endWork()\n      await this.#destroy(err)\n    } finally {\n      this.#ended = true\n\n      if (this.#working) {\n        this.#endWork()\n        await this.close()\n      }\n    }\n  }\n\n  async _all (options) {\n    // Must count here because we're directly calling _nextv()\n    let count = this.#count\n\n    const acc = []\n\n    while (true) {\n      // Not configurable, because implementations should optimize _all().\n      const size = this.#limit < Infinity ? Math.min(1e3, this.#limit - count) : 1e3\n\n      if (size <= 0) {\n        return acc\n      }\n\n      const items = await this._nextv(size, options)\n\n      if (items.length === 0) {\n        return acc\n      }\n\n      acc.push.apply(acc, items)\n      count += items.length\n    }\n  }\n\n  seek (target, options) {\n    options = getOptions(options, emptyOptions)\n\n    if (this.#closingPromise !== null) {\n      // Don't throw here, to be kind to implementations that wrap\n      // another db and don't necessarily control when the db is closed\n    } else if (this.#working) {\n      throw new ModuleError('Iterator is busy: cannot call seek() until next() has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      })\n    } else {\n      const keyEncoding = this.db.keyEncoding(options.keyEncoding || this[kKeyEncoding])\n      const keyFormat = keyEncoding.format\n\n      if (options.keyEncoding !== keyFormat) {\n        options = { ...options, keyEncoding: keyFormat }\n      }\n\n      const mapped = this.db.prefixKey(keyEncoding.encode(target), keyFormat, false)\n      this._seek(mapped, options)\n\n      // If _seek() was successfull, more data may be available.\n      this.#ended = false\n    }\n  }\n\n  _seek (target, options) {\n    throw new ModuleError('Iterator does not implement seek()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  async close () {\n    if (this.#closingPromise !== null) {\n      // First caller of close() is responsible for error\n      return this.#closingPromise.catch(noop)\n    }\n\n    // Wrap to avoid race issues on recursive calls\n    this.#closingPromise = new Promise((resolve, reject) => {\n      this.#pendingClose = () => {\n        this.#pendingClose = null\n        this.#privateClose().then(resolve, reject)\n      }\n    })\n\n    // If working we'll delay closing, but still handle the close error (if any) here\n    if (!this.#working) {\n      this.#pendingClose()\n    }\n\n    return this.#closingPromise\n  }\n\n  async _close () {}\n\n  async * [Symbol.asyncIterator] () {\n    try {\n      let item\n\n      while ((item = (await this.next())) !== undefined) {\n        yield item\n      }\n    } catch (err) {\n      await this.#destroy(err)\n    } finally {\n      await this.close()\n    }\n  }\n\n  #startWork () {\n    if (this.#closingPromise !== null) {\n      throw new ModuleError('Iterator is not open: cannot read after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      })\n    } else if (this.#working) {\n      throw new ModuleError('Iterator is busy: cannot read until previous read has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      })\n    } else if (this.#signal?.aborted) {\n      throw new AbortError()\n    }\n\n    // Keep snapshot open during operation\n    this.#snapshot?.ref()\n    this.#working = true\n  }\n\n  #endWork () {\n    this.#working = false\n    this.#pendingClose?.()\n    this.#snapshot?.unref()\n  }\n\n  async #privateClose () {\n    await this._close()\n    this.db.detachResource(this)\n  }\n\n  async #destroy (err) {\n    try {\n      await this.close()\n    } catch (closeErr) {\n      throw combineErrors([err, closeErr])\n    }\n\n    throw err\n  }\n}\n\nif (typeof Symbol.asyncDispose === 'symbol') {\n  CommonIterator.prototype[Symbol.asyncDispose] = async function () {\n    return this.close()\n  }\n}\n\n// For backwards compatibility this class is not (yet) called AbstractEntryIterator.\nclass AbstractIterator extends CommonIterator {\n  #keys\n  #values\n\n  constructor (db, options) {\n    super(db, options)\n    this.#keys = options.keys !== false\n    this.#values = options.values !== false\n  }\n\n  [kDecodeOne] (entry) {\n    const key = entry[0]\n    const value = entry[1]\n\n    if (key !== undefined) {\n      entry[0] = this.#keys ? this[kKeyEncoding].decode(key) : undefined\n    }\n\n    if (value !== undefined) {\n      entry[1] = this.#values ? this[kValueEncoding].decode(value) : undefined\n    }\n\n    return entry\n  }\n\n  [kDecodeMany] (entries) {\n    const keyEncoding = this[kKeyEncoding]\n    const valueEncoding = this[kValueEncoding]\n\n    for (const entry of entries) {\n      const key = entry[0]\n      const value = entry[1]\n\n      if (key !== undefined) entry[0] = this.#keys ? keyEncoding.decode(key) : undefined\n      if (value !== undefined) entry[1] = this.#values ? valueEncoding.decode(value) : undefined\n    }\n  }\n}\n\nclass AbstractKeyIterator extends CommonIterator {\n  [kDecodeOne] (key) {\n    return this[kKeyEncoding].decode(key)\n  }\n\n  [kDecodeMany] (keys) {\n    const keyEncoding = this[kKeyEncoding]\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = keyEncoding.decode(key)\n    }\n  }\n}\n\nclass AbstractValueIterator extends CommonIterator {\n  [kDecodeOne] (value) {\n    return this[kValueEncoding].decode(value)\n  }\n\n  [kDecodeMany] (values) {\n    const valueEncoding = this[kValueEncoding]\n\n    for (let i = 0; i < values.length; i++) {\n      const value = values[i]\n      if (value !== undefined) values[i] = valueEncoding.decode(value)\n    }\n  }\n}\n\n// Internal utility, not typed or exported\nclass IteratorDecodeError extends ModuleError {\n  constructor (cause) {\n    super('Iterator could not decode data', {\n      code: 'LEVEL_DECODE_ERROR',\n      cause\n    })\n  }\n}\n\n// Exposed so that AbstractLevel can set these options\nAbstractIterator.keyEncoding = kKeyEncoding\nAbstractIterator.valueEncoding = kValueEncoding\n\nexports.AbstractIterator = AbstractIterator\nexports.AbstractKeyIterator = AbstractKeyIterator\nexports.AbstractValueIterator = AbstractValueIterator\n", "'use strict'\n\nconst { AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kIterator = Symbol('iterator')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\n\nclass DefaultKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: true, values: false })\n  }\n\n  [kHandleOne] (entry) {\n    return entry[0]\n  }\n\n  [kHandleMany] (entries) {\n    for (let i = 0; i < entries.length; i++) {\n      entries[i] = entries[i][0]\n    }\n  }\n}\n\nclass DefaultValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: false, values: true })\n  }\n\n  [kHandleOne] (entry) {\n    return entry[1]\n  }\n\n  [kHandleMany] (entries) {\n    for (let i = 0; i < entries.length; i++) {\n      entries[i] = entries[i][1]\n    }\n  }\n}\n\nfor (const Iterator of [DefaultKeyIterator, DefaultValueIterator]) {\n  Iterator.prototype._next = async function () {\n    const entry = await this[kIterator].next()\n    return entry === undefined ? entry : this[kHandleOne](entry)\n  }\n\n  Iterator.prototype._nextv = async function (size, options) {\n    const entries = await this[kIterator].nextv(size, options)\n    this[kHandleMany](entries)\n    return entries\n  }\n\n  Iterator.prototype._all = async function (options) {\n    const entries = await this[kIterator].all(options)\n    this[kHandleMany](entries)\n    return entries\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = async function () {\n    return this[kIterator].close()\n  }\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator\nexports.DefaultValueIterator = DefaultValueIterator\n", "'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\nconst ModuleError = require('module-error')\n\nconst kNut = Symbol('nut')\nconst kUndefer = Symbol('undefer')\nconst kFactory = Symbol('factory')\nconst kSignalOptions = Symbol('signalOptions')\n\nclass DeferredIterator extends AbstractIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.iterator(options)\n    this[kSignalOptions] = { signal: options.signal }\n\n    this.db.defer(() => this[kUndefer](), this[kSignalOptions])\n  }\n}\n\nclass DeferredKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.keys(options)\n    this[kSignalOptions] = { signal: options.signal }\n\n    this.db.defer(() => this[kUndefer](), this[kSignalOptions])\n  }\n}\n\nclass DeferredValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.values(options)\n    this[kSignalOptions] = { signal: options.signal }\n\n    this.db.defer(() => this[kUndefer](), this[kSignalOptions])\n  }\n}\n\nfor (const Iterator of [DeferredIterator, DeferredKeyIterator, DeferredValueIterator]) {\n  Iterator.prototype[kUndefer] = function () {\n    if (this.db.status === 'open') {\n      this[kNut] = this[kFactory]()\n    }\n  }\n\n  Iterator.prototype._next = async function () {\n    if (this[kNut] !== null) {\n      return this[kNut].next()\n    } else if (this.db.status === 'opening') {\n      return this.db.deferAsync(() => this._next(), this[kSignalOptions])\n    } else {\n      throw new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      })\n    }\n  }\n\n  Iterator.prototype._nextv = async function (size, options) {\n    if (this[kNut] !== null) {\n      return this[kNut].nextv(size, options)\n    } else if (this.db.status === 'opening') {\n      return this.db.deferAsync(() => this._nextv(size, options), this[kSignalOptions])\n    } else {\n      throw new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      })\n    }\n  }\n\n  Iterator.prototype._all = async function (options) {\n    if (this[kNut] !== null) {\n      return this[kNut].all()\n    } else if (this.db.status === 'opening') {\n      return this.db.deferAsync(() => this._all(options), this[kSignalOptions])\n    } else {\n      throw new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      })\n    }\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    if (this[kNut] !== null) {\n      // TODO: explain why we need _seek() rather than seek() here\n      this[kNut]._seek(target, options)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._seek(target, options), this[kSignalOptions])\n    }\n  }\n\n  Iterator.prototype._close = async function () {\n    if (this[kNut] !== null) {\n      return this[kNut].close()\n    } else if (this.db.status === 'opening') {\n      return this.db.deferAsync(() => this._close())\n    }\n  }\n}\n\nexports.DeferredIterator = DeferredIterator\nexports.DeferredKeyIterator = DeferredKeyIterator\nexports.DeferredValueIterator = DeferredValueIterator\n", "'use strict'\n\nexports.prefixDescendantKey = function (key, keyFormat, descendant, ancestor) {\n  while (descendant !== null && descendant !== ancestor) {\n    key = descendant.prefixKey(key, keyFormat, true)\n    descendant = descendant.parent\n  }\n\n  return key\n}\n\n// Check if db is a descendant of ancestor\n// TODO: optimize, when used alongside prefixDescendantKey\n// which means we visit parents twice.\nexports.isDescendant = function (db, ancestor) {\n  while (true) {\n    if (db.parent == null) return false\n    if (db.parent === ancestor) return true\n    db = db.parent\n  }\n}\n", "'use strict'\n\nconst { prefixDescendantKey, isDescendant } = require('./prefixes')\n\n// An interface for prewrite hook functions to add operations\nclass PrewriteBatch {\n  #db\n  #privateOperations\n  #publicOperations\n\n  constructor (db, privateOperations, publicOperations) {\n    this.#db = db\n\n    // Note: if for db.batch([]), these arrays include input operations (or empty slots\n    // for them) but if for chained batch then it does not. Small implementation detail.\n    this.#privateOperations = privateOperations\n    this.#publicOperations = publicOperations\n  }\n\n  add (op) {\n    const isPut = op.type === 'put'\n    const delegated = op.sublevel != null\n    const db = delegated ? op.sublevel : this.#db\n\n    db._assertValidKey(op.key)\n    op.keyEncoding = db.keyEncoding(op.keyEncoding)\n\n    if (isPut) {\n      db._assertValidValue(op.value)\n      op.valueEncoding = db.valueEncoding(op.valueEncoding)\n    } else if (op.type !== 'del') {\n      throw new TypeError(\"A batch operation must have a type property that is 'put' or 'del'\")\n    }\n\n    // Encode data for private API\n    const keyEncoding = op.keyEncoding\n    const preencodedKey = keyEncoding.encode(op.key)\n    const keyFormat = keyEncoding.format\n\n    // If the sublevel is not a descendant then forward that option to the parent db\n    // so that we don't erroneously add our own prefix to the key of the operation.\n    const siblings = delegated && !isDescendant(op.sublevel, this.#db) && op.sublevel !== this.#db\n    const encodedKey = delegated && !siblings\n      ? prefixDescendantKey(preencodedKey, keyFormat, db, this.#db)\n      : preencodedKey\n\n    // Only prefix once\n    if (delegated && !siblings) {\n      op.sublevel = null\n    }\n\n    let publicOperation = null\n\n    // If the sublevel is not a descendant then we shouldn't emit events\n    if (this.#publicOperations !== null && !siblings) {\n      // Clone op before we mutate it for the private API\n      publicOperation = { ...op }\n      publicOperation.encodedKey = encodedKey\n\n      if (delegated) {\n        // Ensure emitted data makes sense in the context of this.#db\n        publicOperation.key = encodedKey\n        publicOperation.keyEncoding = this.#db.keyEncoding(keyFormat)\n      }\n\n      this.#publicOperations.push(publicOperation)\n    }\n\n    // If we're forwarding the sublevel option then don't prefix the key yet\n    op.key = siblings ? encodedKey : this.#db.prefixKey(encodedKey, keyFormat, true)\n    op.keyEncoding = keyFormat\n\n    if (isPut) {\n      const valueEncoding = op.valueEncoding\n      const encodedValue = valueEncoding.encode(op.value)\n      const valueFormat = valueEncoding.format\n\n      op.value = encodedValue\n      op.valueEncoding = valueFormat\n\n      if (publicOperation !== null) {\n        publicOperation.encodedValue = encodedValue\n\n        if (delegated) {\n          publicOperation.value = encodedValue\n          publicOperation.valueEncoding = this.#db.valueEncoding(valueFormat)\n        }\n      }\n    }\n\n    this.#privateOperations.push(op)\n    return this\n  }\n}\n\nexports.PrewriteBatch = PrewriteBatch\n", "'use strict'\n\nconst combineErrors = require('maybe-combine-errors')\nconst ModuleError = require('module-error')\nconst { getOptions, emptyOptions, noop } = require('./lib/common')\nconst { prefixDescendantKey, isDescendant } = require('./lib/prefixes')\nconst { PrewriteBatch } = require('./lib/prewrite-batch')\n\nconst kPublicOperations = Symbol('publicOperations')\nconst kPrivateOperations = Symbol('privateOperations')\n\nclass AbstractChainedBatch {\n  #status = 'open'\n  #length = 0\n  #closePromise = null\n  #publicOperations\n  #prewriteRun\n  #prewriteBatch\n  #prewriteData\n  #addMode\n\n  constructor (db, options) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    const enableWriteEvent = db.listenerCount('write') > 0\n    const enablePrewriteHook = !db.hooks.prewrite.noop\n\n    // Operations for write event. We can skip populating this array (and cloning of\n    // operations, which is the expensive part) if there are 0 write event listeners.\n    this.#publicOperations = enableWriteEvent ? [] : null\n\n    this.#addMode = getOptions(options, emptyOptions).add === true\n\n    if (enablePrewriteHook) {\n      // Use separate arrays to collect operations added by hook functions, because\n      // we wait to apply those until write(). Store these arrays in PrewriteData which\n      // exists to separate internal data from the public PrewriteBatch interface.\n      const data = new PrewriteData([], enableWriteEvent ? [] : null)\n\n      this.#prewriteData = data\n      this.#prewriteBatch = new PrewriteBatch(db, data[kPrivateOperations], data[kPublicOperations])\n      this.#prewriteRun = db.hooks.prewrite.run // TODO: document why\n    } else {\n      this.#prewriteData = null\n      this.#prewriteBatch = null\n      this.#prewriteRun = null\n    }\n\n    this.db = db\n    this.db.attachResource(this)\n  }\n\n  get length () {\n    if (this.#prewriteData !== null) {\n      return this.#length + this.#prewriteData.length\n    } else {\n      return this.#length\n    }\n  }\n\n  put (key, value, options) {\n    this.#assertStatus()\n    options = getOptions(options, emptyOptions)\n\n    const delegated = options.sublevel != null\n    const db = delegated ? options.sublevel : this.db\n\n    db._assertValidKey(key)\n    db._assertValidValue(value)\n\n    const op = {\n      ...options,\n      type: 'put',\n      key,\n      value,\n      keyEncoding: db.keyEncoding(options.keyEncoding),\n      valueEncoding: db.valueEncoding(options.valueEncoding)\n    }\n\n    if (this.#prewriteRun !== null) {\n      try {\n        // Note: we could have chosen to recurse here so that prewriteBatch.put() would\n        // call this.put(). But then operations added by hook functions would be inserted\n        // before rather than after user operations. Instead we process those operations\n        // lazily in write(). This does hurt the only performance benefit benefit of a\n        // chained batch though, which is that it avoids blocking the event loop with\n        // more than one operation at a time. On the other hand, if operations added by\n        // hook functions are adjacent (i.e. sorted) committing them should be faster.\n        this.#prewriteRun(op, this.#prewriteBatch)\n\n        // Normalize encodings again in case they were modified\n        op.keyEncoding = db.keyEncoding(op.keyEncoding)\n        op.valueEncoding = db.valueEncoding(op.valueEncoding)\n      } catch (err) {\n        throw new ModuleError('The prewrite hook failed on batch.put()', {\n          code: 'LEVEL_HOOK_ERROR',\n          cause: err\n        })\n      }\n    }\n\n    // Encode data for private API\n    const keyEncoding = op.keyEncoding\n    const preencodedKey = keyEncoding.encode(op.key)\n    const keyFormat = keyEncoding.format\n\n    // If the sublevel is not a descendant then forward that option to the parent db\n    // so that we don't erroneously add our own prefix to the key of the operation.\n    const siblings = delegated && !isDescendant(op.sublevel, this.db) && op.sublevel !== this.db\n    const encodedKey = delegated && !siblings\n      ? prefixDescendantKey(preencodedKey, keyFormat, db, this.db)\n      : preencodedKey\n\n    const valueEncoding = op.valueEncoding\n    const encodedValue = valueEncoding.encode(op.value)\n    const valueFormat = valueEncoding.format\n\n    // Only prefix once\n    if (delegated && !siblings) {\n      op.sublevel = null\n    }\n\n    // If the sublevel is not a descendant then we shouldn't emit events\n    if (this.#publicOperations !== null && !siblings) {\n      // Clone op before we mutate it for the private API\n      const publicOperation = { ...op }\n      publicOperation.encodedKey = encodedKey\n      publicOperation.encodedValue = encodedValue\n\n      if (delegated) {\n        // Ensure emitted data makes sense in the context of this db\n        publicOperation.key = encodedKey\n        publicOperation.value = encodedValue\n        publicOperation.keyEncoding = this.db.keyEncoding(keyFormat)\n        publicOperation.valueEncoding = this.db.valueEncoding(valueFormat)\n      }\n\n      this.#publicOperations.push(publicOperation)\n    }\n\n    // If we're forwarding the sublevel option then don't prefix the key yet\n    op.key = siblings ? encodedKey : this.db.prefixKey(encodedKey, keyFormat, true)\n    op.value = encodedValue\n    op.keyEncoding = keyFormat\n    op.valueEncoding = valueFormat\n\n    if (this.#addMode) {\n      this._add(op)\n    } else {\n      // This \"operation as options\" trick avoids further cloning\n      this._put(op.key, encodedValue, op)\n    }\n\n    // Increment only on success\n    this.#length++\n    return this\n  }\n\n  _put (key, value, options) {}\n\n  del (key, options) {\n    this.#assertStatus()\n    options = getOptions(options, emptyOptions)\n\n    const delegated = options.sublevel != null\n    const db = delegated ? options.sublevel : this.db\n\n    db._assertValidKey(key)\n\n    const op = {\n      ...options,\n      type: 'del',\n      key,\n      keyEncoding: db.keyEncoding(options.keyEncoding)\n    }\n\n    if (this.#prewriteRun !== null) {\n      try {\n        this.#prewriteRun(op, this.#prewriteBatch)\n\n        // Normalize encoding again in case it was modified\n        op.keyEncoding = db.keyEncoding(op.keyEncoding)\n      } catch (err) {\n        throw new ModuleError('The prewrite hook failed on batch.del()', {\n          code: 'LEVEL_HOOK_ERROR',\n          cause: err\n        })\n      }\n    }\n\n    // Encode data for private API\n    const keyEncoding = op.keyEncoding\n    const preencodedKey = keyEncoding.encode(op.key)\n    const keyFormat = keyEncoding.format\n    const encodedKey = delegated ? prefixDescendantKey(preencodedKey, keyFormat, db, this.db) : preencodedKey\n\n    // Prevent double prefixing\n    if (delegated) op.sublevel = null\n\n    if (this.#publicOperations !== null) {\n      // Clone op before we mutate it for the private API\n      const publicOperation = { ...op }\n      publicOperation.encodedKey = encodedKey\n\n      if (delegated) {\n        // Ensure emitted data makes sense in the context of this db\n        publicOperation.key = encodedKey\n        publicOperation.keyEncoding = this.db.keyEncoding(keyFormat)\n      }\n\n      this.#publicOperations.push(publicOperation)\n    }\n\n    op.key = this.db.prefixKey(encodedKey, keyFormat, true)\n    op.keyEncoding = keyFormat\n\n    if (this.#addMode) {\n      this._add(op)\n    } else {\n      // This \"operation as options\" trick avoids further cloning\n      this._del(op.key, op)\n    }\n\n    // Increment only on success\n    this.#length++\n    return this\n  }\n\n  _del (key, options) {}\n\n  _add (op) {}\n\n  clear () {\n    this.#assertStatus()\n    this._clear()\n\n    if (this.#publicOperations !== null) this.#publicOperations = []\n    if (this.#prewriteData !== null) this.#prewriteData.clear()\n\n    this.#length = 0\n    return this\n  }\n\n  _clear () {}\n\n  async write (options) {\n    this.#assertStatus()\n    options = getOptions(options)\n\n    if (this.#length === 0) {\n      return this.close()\n    } else {\n      this.#status = 'writing'\n\n      // Prepare promise in case close() is called in the mean time\n      const close = this.#prepareClose()\n\n      try {\n        // Process operations added by prewrite hook functions\n        if (this.#prewriteData !== null) {\n          const publicOperations = this.#prewriteData[kPublicOperations]\n          const privateOperations = this.#prewriteData[kPrivateOperations]\n          const length = this.#prewriteData.length\n\n          for (let i = 0; i < length; i++) {\n            const op = privateOperations[i]\n\n            // We can _add(), _put() or _del() even though status is now 'writing' because\n            // status isn't exposed to the private API, so there's no difference in state\n            // from that perspective, unless an implementation overrides the public write()\n            // method at its own risk.\n            if (this.#addMode) {\n              this._add(op)\n            } else if (op.type === 'put') {\n              this._put(op.key, op.value, op)\n            } else {\n              this._del(op.key, op)\n            }\n          }\n\n          if (publicOperations !== null && length !== 0) {\n            this.#publicOperations = this.#publicOperations.concat(publicOperations)\n          }\n        }\n\n        await this._write(options)\n      } catch (err) {\n        close()\n\n        try {\n          await this.#closePromise\n        } catch (closeErr) {\n          // eslint-disable-next-line no-ex-assign\n          err = combineErrors([err, closeErr])\n        }\n\n        throw err\n      }\n\n      close()\n\n      // Emit after initiating the closing, because event may trigger a\n      // db close which in turn triggers (idempotently) closing this batch.\n      if (this.#publicOperations !== null) {\n        this.db.emit('write', this.#publicOperations)\n      }\n\n      return this.#closePromise\n    }\n  }\n\n  async _write (options) {}\n\n  async close () {\n    if (this.#closePromise !== null) {\n      // First caller of close() or write() is responsible for error\n      return this.#closePromise.catch(noop)\n    } else {\n      // Wrap promise to avoid race issues on recursive calls\n      this.#prepareClose()()\n      return this.#closePromise\n    }\n  }\n\n  async _close () {}\n\n  #assertStatus () {\n    if (this.#status !== 'open') {\n      throw new ModuleError('Batch is not open: cannot change operations after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    // Can technically be removed, because it's no longer possible to call db.batch() when\n    // status is not 'open', and db.close() closes the batch. Keep for now, in case of\n    // unforseen userland behaviors.\n    if (this.db.status !== 'open') {\n      /* istanbul ignore next */\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n  }\n\n  #prepareClose () {\n    let close\n\n    this.#closePromise = new Promise((resolve, reject) => {\n      close = () => {\n        this.#privateClose().then(resolve, reject)\n      }\n    })\n\n    return close\n  }\n\n  async #privateClose () {\n    // TODO: should we not set status earlier?\n    this.#status = 'closing'\n    await this._close()\n    this.db.detachResource(this)\n  }\n}\n\nif (typeof Symbol.asyncDispose === 'symbol') {\n  AbstractChainedBatch.prototype[Symbol.asyncDispose] = async function () {\n    return this.close()\n  }\n}\n\nclass PrewriteData {\n  constructor (privateOperations, publicOperations) {\n    this[kPrivateOperations] = privateOperations\n    this[kPublicOperations] = publicOperations\n  }\n\n  get length () {\n    return this[kPrivateOperations].length\n  }\n\n  clear () {\n    // Clear operation arrays if present.\n    for (const k of [kPublicOperations, kPrivateOperations]) {\n      const ops = this[k]\n\n      if (ops !== null) {\n        // Keep array alive because PrewriteBatch has a reference to it\n        ops.splice(0, ops.length)\n      }\n    }\n  }\n}\n\nexports.AbstractChainedBatch = AbstractChainedBatch\n", "'use strict'\n\nconst { AbstractChainedBatch } = require('../abstract-chained-batch')\n\n// Functional default for chained batch\nclass DefaultChainedBatch extends AbstractChainedBatch {\n  #encoded = []\n\n  constructor (db) {\n    // Opt-in to _add() instead of _put() and _del()\n    super(db, { add: true })\n  }\n\n  _add (op) {\n    this.#encoded.push(op)\n  }\n\n  _clear () {\n    this.#encoded = []\n  }\n\n  async _write (options) {\n    // Need to call the private rather than public method, to prevent\n    // recursion, double prefixing, double encoding and double hooks.\n    return this.db._batch(this.#encoded, options)\n  }\n}\n\nexports.DefaultChainedBatch = DefaultChainedBatch\n", "'use strict'\n\nconst { noop } = require('./common')\n\nclass DatabaseHooks {\n  constructor () {\n    this.postopen = new Hook({ async: true })\n    this.prewrite = new Hook({ async: false })\n    this.newsub = new Hook({ async: false })\n  }\n}\n\nclass Hook {\n  #functions = new Set()\n  #isAsync\n\n  constructor (options) {\n    this.#isAsync = options.async\n\n    // Offer a fast way to check if hook functions are present. We could also expose a\n    // size getter, which would be slower, or check it by hook.run !== noop, which would\n    // not allow userland to do the same check.\n    this.noop = true\n    this.run = this.#runner()\n  }\n\n  add (fn) {\n    // Validate now rather than in asynchronous code paths\n    assertFunction(fn)\n    this.#functions.add(fn)\n    this.noop = false\n    this.run = this.#runner()\n  }\n\n  delete (fn) {\n    assertFunction(fn)\n    this.#functions.delete(fn)\n    this.noop = this.#functions.size === 0\n    this.run = this.#runner()\n  }\n\n  #runner () {\n    if (this.noop) {\n      return noop\n    } else if (this.#functions.size === 1) {\n      const [fn] = this.#functions\n      return fn\n    } else if (this.#isAsync) {\n      // The run function should not reference hook, so that consumers like chained batch\n      // and db.open() can save a reference to hook.run and safely assume it won't change\n      // during their lifetime or async work.\n      const run = async function (functions, ...args) {\n        for (const fn of functions) {\n          await fn(...args)\n        }\n      }\n\n      return run.bind(null, Array.from(this.#functions))\n    } else {\n      const run = function (functions, ...args) {\n        for (const fn of functions) {\n          fn(...args)\n        }\n      }\n\n      return run.bind(null, Array.from(this.#functions))\n    }\n  }\n}\n\nconst assertFunction = function (fn) {\n  if (typeof fn !== 'function') {\n    const hint = fn === null ? 'null' : typeof fn\n    throw new TypeError(`The first argument must be a function, received ${hint}`)\n  }\n}\n\nexports.DatabaseHooks = DatabaseHooks\n", "'use strict'\n\nconst { deprecate } = require('./common')\n\nexports.EventMonitor = class EventMonitor {\n  constructor (emitter) {\n    // Track whether listeners are present, because checking\n    // a boolean is faster than checking listenerCount().\n    this.write = false\n\n    const beforeAdded = (name) => {\n      if (name === 'write') {\n        this.write = true\n      }\n\n      if (name === 'put' || name === 'del' || name === 'batch') {\n        deprecate(`The '${name}' event has been removed in favor of 'write'`)\n      }\n    }\n\n    const afterRemoved = (name) => {\n      if (name === 'write') {\n        this.write = emitter.listenerCount('write') > 0\n      }\n    }\n\n    emitter.on('newListener', beforeAdded)\n    emitter.on('removeListener', afterRemoved)\n  }\n}\n", "'use strict'\n\nconst { getOptions, emptyOptions } = require('./common')\nconst { AbortError } = require('./errors')\n\nclass DeferredOperation {\n  constructor (fn, signal) {\n    this.fn = fn\n    this.signal = signal\n  }\n}\n\nclass DeferredQueue {\n  #operations\n  #signals\n\n  constructor () {\n    this.#operations = []\n    this.#signals = new Set()\n  }\n\n  add (fn, options) {\n    options = getOptions(options, emptyOptions)\n    const signal = options.signal\n\n    if (signal == null) {\n      this.#operations.push(new DeferredOperation(fn, null))\n      return\n    }\n\n    if (signal.aborted) {\n      // Note that this is called in the same tick\n      fn(new AbortError())\n      return\n    }\n\n    if (!this.#signals.has(signal)) {\n      this.#signals.add(signal)\n      signal.addEventListener('abort', this.#handleAbort, { once: true })\n    }\n\n    this.#operations.push(new DeferredOperation(fn, signal))\n  }\n\n  drain () {\n    const operations = this.#operations\n    const signals = this.#signals\n\n    this.#operations = []\n    this.#signals = new Set()\n\n    for (const signal of signals) {\n      signal.removeEventListener('abort', this.#handleAbort)\n    }\n\n    for (const operation of operations) {\n      operation.fn.call(null)\n    }\n  }\n\n  #handleAbort = (ev) => {\n    const signal = ev.target\n    const err = new AbortError()\n    const aborted = []\n\n    // TODO: optimize\n    this.#operations = this.#operations.filter(function (operation) {\n      if (operation.signal !== null && operation.signal === signal) {\n        aborted.push(operation)\n        return false\n      } else {\n        return true\n      }\n    })\n\n    this.#signals.delete(signal)\n\n    for (const operation of aborted) {\n      operation.fn.call(null, err)\n    }\n  }\n}\n\nexports.DeferredQueue = DeferredQueue\n", "'use strict'\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = new Set(['lt', 'lte', 'gt', 'gte'])\n\nmodule.exports = function (options, keyEncoding) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n    if (k === 'keyEncoding' || k === 'valueEncoding') continue\n\n    if (rangeOptions.has(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      result[k] = keyEncoding.encode(options[k])\n    } else {\n      result[k] = options[k]\n    }\n  }\n\n  result.reverse = !!result.reverse\n  result.limit = Number.isInteger(result.limit) && result.limit >= 0 ? result.limit : -1\n\n  return result\n}\n", "'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\n// TODO: unfix natively if db supports it\nclass AbstractSublevelIterator extends AbstractIterator {\n  #iterator\n  #unfix\n\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this.#iterator = iterator\n    this.#unfix = unfix\n  }\n\n  async _next () {\n    const entry = await this.#iterator.next()\n\n    if (entry !== undefined) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = this.#unfix(key)\n    }\n\n    return entry\n  }\n\n  async _nextv (size, options) {\n    const entries = await this.#iterator.nextv(size, options)\n    const unfix = this.#unfix\n\n    for (const entry of entries) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = unfix(key)\n    }\n\n    return entries\n  }\n\n  async _all (options) {\n    const entries = await this.#iterator.all(options)\n    const unfix = this.#unfix\n\n    for (const entry of entries) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = unfix(key)\n    }\n\n    return entries\n  }\n\n  _seek (target, options) {\n    this.#iterator.seek(target, options)\n  }\n\n  async _close () {\n    return this.#iterator.close()\n  }\n}\n\nclass AbstractSublevelKeyIterator extends AbstractKeyIterator {\n  #iterator\n  #unfix\n\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this.#iterator = iterator\n    this.#unfix = unfix\n  }\n\n  async _next () {\n    const key = await this.#iterator.next()\n    return key === undefined ? key : this.#unfix(key)\n  }\n\n  async _nextv (size, options) {\n    const keys = await this.#iterator.nextv(size, options)\n    const unfix = this.#unfix\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = unfix(key)\n    }\n\n    return keys\n  }\n\n  async _all (options) {\n    const keys = await this.#iterator.all(options)\n    const unfix = this.#unfix\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = unfix(key)\n    }\n\n    return keys\n  }\n\n  _seek (target, options) {\n    this.#iterator.seek(target, options)\n  }\n\n  async _close () {\n    return this.#iterator.close()\n  }\n}\n\nclass AbstractSublevelValueIterator extends AbstractValueIterator {\n  #iterator\n\n  constructor (db, options, iterator) {\n    super(db, options)\n    this.#iterator = iterator\n  }\n\n  async _next () {\n    return this.#iterator.next()\n  }\n\n  async _nextv (size, options) {\n    return this.#iterator.nextv(size, options)\n  }\n\n  async _all (options) {\n    return this.#iterator.all(options)\n  }\n\n  _seek (target, options) {\n    this.#iterator.seek(target, options)\n  }\n\n  async _close () {\n    return this.#iterator.close()\n  }\n}\n\nexports.AbstractSublevelIterator = AbstractSublevelIterator\nexports.AbstractSublevelKeyIterator = AbstractSublevelKeyIterator\nexports.AbstractSublevelValueIterator = AbstractSublevelValueIterator\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst { Buffer } = require('buffer') || {}\nconst {\n  AbstractSublevelIterator,\n  AbstractSublevelKeyIterator,\n  AbstractSublevelValueIterator\n} = require('./abstract-sublevel-iterator')\n\nconst kRoot = Symbol('root')\nconst textEncoder = new TextEncoder()\nconst defaults = { separator: '!' }\n\n// Wrapped to avoid circular dependency\nmodule.exports = function ({ AbstractLevel }) {\n  class AbstractSublevel extends AbstractLevel {\n    #globalPrefix\n    #localPrefix\n    #localPath\n    #globalPath\n    #globalUpperBound\n    #parent\n    #unfix\n\n    static defaults (options) {\n      if (options == null) {\n        return defaults\n      } else if (!options.separator) {\n        return { ...options, separator: '!' }\n      } else {\n        return options\n      }\n    }\n\n    constructor (db, name, options) {\n      // Don't forward AbstractSublevel options to AbstractLevel\n      const { separator, manifest, ...forward } = AbstractSublevel.defaults(options)\n      const names = [].concat(name).map(name => trim(name, separator))\n\n      // Reserve one character between separator and name to give us an upper bound\n      const reserved = separator.charCodeAt(0) + 1\n      const root = db[kRoot] || db\n\n      // Keys should sort like ['!a!', '!a!!a!', '!a\"', '!aa!', '!b!'].\n      // Use ASCII for consistent length between string, Buffer and Uint8Array\n      if (!names.every(name => textEncoder.encode(name).every(x => x > reserved && x < 127))) {\n        throw new ModuleError(`Sublevel name must use bytes > ${reserved} < ${127}`, {\n          code: 'LEVEL_INVALID_PREFIX'\n        })\n      }\n\n      super(mergeManifests(db, manifest), forward)\n\n      const localPrefix = names.map(name => separator + name + separator).join('')\n      const globalPrefix = (db.prefix || '') + localPrefix\n      const globalUpperBound = globalPrefix.slice(0, -1) + String.fromCharCode(reserved)\n\n      // Most operations are forwarded to the parent database, but clear() and iterators\n      // still forward to the root database - which is older logic and does not yet need\n      // to change, until we add some form of preread or postread hooks.\n      this[kRoot] = root\n      this.#parent = db\n      this.#localPath = names\n      this.#globalPath = db.prefix ? db.path().concat(names) : names\n      this.#globalPrefix = new MultiFormat(globalPrefix)\n      this.#globalUpperBound = new MultiFormat(globalUpperBound)\n      this.#localPrefix = new MultiFormat(localPrefix)\n      this.#unfix = new Unfixer()\n    }\n\n    prefixKey (key, keyFormat, local) {\n      const prefix = local ? this.#localPrefix : this.#globalPrefix\n\n      if (keyFormat === 'utf8') {\n        return prefix.utf8 + key\n      } else if (key.byteLength === 0) {\n        // Fast path for empty key (no copy)\n        return prefix[keyFormat]\n      } else if (keyFormat === 'view') {\n        const view = prefix.view\n        const result = new Uint8Array(view.byteLength + key.byteLength)\n\n        result.set(view, 0)\n        result.set(key, view.byteLength)\n\n        return result\n      } else {\n        const buffer = prefix.buffer\n        return Buffer.concat([buffer, key], buffer.byteLength + key.byteLength)\n      }\n    }\n\n    // Not exposed for now.\n    #prefixRange (range, keyFormat) {\n      if (range.gte !== undefined) {\n        range.gte = this.prefixKey(range.gte, keyFormat, false)\n      } else if (range.gt !== undefined) {\n        range.gt = this.prefixKey(range.gt, keyFormat, false)\n      } else {\n        range.gte = this.#globalPrefix[keyFormat]\n      }\n\n      if (range.lte !== undefined) {\n        range.lte = this.prefixKey(range.lte, keyFormat, false)\n      } else if (range.lt !== undefined) {\n        range.lt = this.prefixKey(range.lt, keyFormat, false)\n      } else {\n        range.lte = this.#globalUpperBound[keyFormat]\n      }\n    }\n\n    get prefix () {\n      return this.#globalPrefix.utf8\n    }\n\n    get db () {\n      return this[kRoot]\n    }\n\n    get parent () {\n      return this.#parent\n    }\n\n    path (local = false) {\n      return local ? this.#localPath : this.#globalPath\n    }\n\n    async _open (options) {\n      // The parent db must open itself or be (re)opened by the user because\n      // a sublevel should not initiate state changes on the rest of the db.\n      await this.#parent.open({ passive: true })\n\n      // Close sublevel when parent is closed\n      this.#parent.attachResource(this)\n    }\n\n    async _close () {\n      this.#parent.detachResource(this)\n    }\n\n    async _put (key, value, options) {\n      return this.#parent.put(key, value, options)\n    }\n\n    async _get (key, options) {\n      return this.#parent.get(key, options)\n    }\n\n    _getSync (key, options) {\n      return this.#parent.getSync(key, options)\n    }\n\n    async _getMany (keys, options) {\n      return this.#parent.getMany(keys, options)\n    }\n\n    async _has (key, options) {\n      return this.#parent.has(key, options)\n    }\n\n    async _hasMany (keys, options) {\n      return this.#parent.hasMany(keys, options)\n    }\n\n    async _del (key, options) {\n      return this.#parent.del(key, options)\n    }\n\n    async _batch (operations, options) {\n      return this.#parent.batch(operations, options)\n    }\n\n    // TODO: call parent instead of root\n    async _clear (options) {\n      // TODO (refactor): move to AbstractLevel\n      this.#prefixRange(options, options.keyEncoding)\n      return this[kRoot].clear(options)\n    }\n\n    // TODO: call parent instead of root\n    _iterator (options) {\n      // TODO (refactor): move to AbstractLevel\n      this.#prefixRange(options, options.keyEncoding)\n      const iterator = this[kRoot].iterator(options)\n      const unfix = this.#unfix.get(this.#globalPrefix.utf8.length, options.keyEncoding)\n      return new AbstractSublevelIterator(this, options, iterator, unfix)\n    }\n\n    _keys (options) {\n      this.#prefixRange(options, options.keyEncoding)\n      const iterator = this[kRoot].keys(options)\n      const unfix = this.#unfix.get(this.#globalPrefix.utf8.length, options.keyEncoding)\n      return new AbstractSublevelKeyIterator(this, options, iterator, unfix)\n    }\n\n    _values (options) {\n      this.#prefixRange(options, options.keyEncoding)\n      const iterator = this[kRoot].values(options)\n      return new AbstractSublevelValueIterator(this, options, iterator)\n    }\n\n    _snapshot (options) {\n      return this[kRoot].snapshot(options)\n    }\n  }\n\n  return { AbstractSublevel }\n}\n\nconst mergeManifests = function (parent, manifest) {\n  return {\n    // Inherit manifest of parent db\n    ...parent.supports,\n\n    // Disable unsupported features\n    createIfMissing: false,\n    errorIfExists: false,\n\n    // Unset additional events because we're not forwarding them\n    events: {},\n\n    // Unset additional methods (like approximateSize) which we can't support here unless\n    // the AbstractSublevel class is overridden by an implementation of `abstract-level`.\n    additionalMethods: {},\n\n    // Inherit manifest of custom AbstractSublevel subclass. Such a class is not\n    // allowed to override encodings.\n    ...manifest,\n\n    encodings: {\n      utf8: supportsEncoding(parent, 'utf8'),\n      buffer: supportsEncoding(parent, 'buffer'),\n      view: supportsEncoding(parent, 'view')\n    }\n  }\n}\n\nconst supportsEncoding = function (parent, encoding) {\n  // Prefer a non-transcoded encoding for optimal performance\n  return parent.supports.encodings[encoding]\n    ? parent.keyEncoding(encoding).name === encoding\n    : false\n}\n\nclass MultiFormat {\n  constructor (key) {\n    this.utf8 = key\n    this.view = textEncoder.encode(key)\n    this.buffer = Buffer ? Buffer.from(this.view.buffer, 0, this.view.byteLength) : {}\n  }\n}\n\nclass Unfixer {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  get (prefixLength, keyFormat) {\n    let unfix = this.cache.get(keyFormat)\n\n    if (unfix === undefined) {\n      if (keyFormat === 'view') {\n        unfix = function (prefixLength, key) {\n          // Avoid Uint8Array#slice() because it copies\n          return key.subarray(prefixLength)\n        }.bind(null, prefixLength)\n      } else {\n        unfix = function (prefixLength, key) {\n          // Avoid Buffer#subarray() because it's slow\n          return key.slice(prefixLength)\n        }.bind(null, prefixLength)\n      }\n\n      this.cache.set(keyFormat, unfix)\n    }\n\n    return unfix\n  }\n}\n\nconst trim = function (str, char) {\n  let start = 0\n  let end = str.length\n\n  while (start < end && str[start] === char) start++\n  while (end > start && str[end - 1] === char) end--\n\n  return str.slice(start, end)\n}\n", "'use strict'\n\nconst { supports } = require('level-supports')\nconst { Transcoder } = require('level-transcoder')\nconst { EventEmitter } = require('events')\nconst ModuleError = require('module-error')\nconst combineErrors = require('maybe-combine-errors')\nconst { AbstractIterator } = require('./abstract-iterator')\nconst { DefaultKeyIterator, DefaultValueIterator } = require('./lib/default-kv-iterator')\nconst { DeferredIterator, DeferredKeyIterator, DeferredValueIterator } = require('./lib/deferred-iterator')\nconst { DefaultChainedBatch } = require('./lib/default-chained-batch')\nconst { DatabaseHooks } = require('./lib/hooks')\nconst { PrewriteBatch } = require('./lib/prewrite-batch')\nconst { EventMonitor } = require('./lib/event-monitor')\nconst { getOptions, noop, emptyOptions, resolvedPromise } = require('./lib/common')\nconst { prefixDescendantKey, isDescendant } = require('./lib/prefixes')\nconst { DeferredQueue } = require('./lib/deferred-queue')\nconst rangeOptions = require('./lib/range-options')\n\nclass AbstractLevel extends EventEmitter {\n  #status = 'opening'\n  #deferOpen = true\n  #statusChange = null\n  #statusLocked = false\n  #resources\n  #queue\n  #options\n  #defaultOptions\n  #transcoder\n  #keyEncoding\n  #valueEncoding\n  #eventMonitor\n\n  constructor (manifest, options) {\n    super()\n\n    if (typeof manifest !== 'object' || manifest === null) {\n      throw new TypeError(\"The first argument 'manifest' must be an object\")\n    }\n\n    options = getOptions(options)\n    const { keyEncoding, valueEncoding, passive, ...forward } = options\n\n    this.#resources = new Set()\n    this.#queue = new DeferredQueue()\n    this.#options = forward\n\n    // Aliased for backwards compatibility\n    const implicitSnapshots = manifest.snapshots !== false &&\n      manifest.implicitSnapshots !== false\n\n    this.hooks = new DatabaseHooks()\n    this.supports = supports(manifest, {\n      deferredOpen: true,\n      seek: true,\n      implicitSnapshots,\n      permanence: manifest.permanence !== false,\n\n      encodings: manifest.encodings || {},\n      events: {\n        ...manifest.events,\n        opening: true,\n        open: true,\n        closing: true,\n        closed: true,\n        write: true,\n        clear: true\n      }\n    })\n\n    this.#eventMonitor = new EventMonitor(this)\n    this.#transcoder = new Transcoder(formats(this))\n    this.#keyEncoding = this.#transcoder.encoding(keyEncoding || 'utf8')\n    this.#valueEncoding = this.#transcoder.encoding(valueEncoding || 'utf8')\n\n    // Add custom and transcoder encodings to manifest\n    for (const encoding of this.#transcoder.encodings()) {\n      if (!this.supports.encodings[encoding.commonName]) {\n        this.supports.encodings[encoding.commonName] = true\n      }\n    }\n\n    this.#defaultOptions = {\n      empty: emptyOptions,\n      entry: Object.freeze({\n        keyEncoding: this.#keyEncoding.commonName,\n        valueEncoding: this.#valueEncoding.commonName\n      }),\n      entryFormat: Object.freeze({\n        keyEncoding: this.#keyEncoding.format,\n        valueEncoding: this.#valueEncoding.format\n      }),\n      key: Object.freeze({\n        keyEncoding: this.#keyEncoding.commonName\n      }),\n      keyFormat: Object.freeze({\n        keyEncoding: this.#keyEncoding.format\n      }),\n      owner: Object.freeze({\n        owner: this\n      })\n    }\n\n    // Before we start opening, let subclass finish its constructor\n    // and allow events and postopen hook functions to be added.\n    queueMicrotask(() => {\n      if (this.#deferOpen) {\n        this.open({ passive: false }).catch(noop)\n      }\n    })\n  }\n\n  get status () {\n    return this.#status\n  }\n\n  get parent () {\n    return null\n  }\n\n  keyEncoding (encoding) {\n    return this.#transcoder.encoding(encoding ?? this.#keyEncoding)\n  }\n\n  valueEncoding (encoding) {\n    return this.#transcoder.encoding(encoding ?? this.#valueEncoding)\n  }\n\n  async open (options) {\n    options = { ...this.#options, ...getOptions(options) }\n\n    options.createIfMissing = options.createIfMissing !== false\n    options.errorIfExists = !!options.errorIfExists\n\n    // TODO: document why we do this\n    const postopen = this.hooks.postopen.noop ? null : this.hooks.postopen.run\n    const passive = options.passive\n\n    if (passive && this.#deferOpen) {\n      // Wait a tick until constructor calls open() non-passively\n      await undefined\n    }\n\n    // Wait for pending changes and check that opening is allowed\n    this.#assertUnlocked()\n    while (this.#statusChange !== null) await this.#statusChange.catch(noop)\n    this.#assertUnlocked()\n\n    if (passive) {\n      if (this.#status !== 'open') throw new NotOpenError()\n    } else if (this.#status === 'closed' || this.#deferOpen) {\n      this.#deferOpen = false\n      this.#statusChange = resolvedPromise // TODO: refactor\n      this.#statusChange = (async () => {\n        this.#status = 'opening'\n\n        try {\n          this.emit('opening')\n          await this._open(options)\n        } catch (err) {\n          this.#status = 'closed'\n\n          // Must happen before we close resources, in case their close() is waiting\n          // on a deferred operation which in turn is waiting on db.open().\n          this.#queue.drain()\n\n          try {\n            await this.#closeResources()\n          } catch (resourceErr) {\n            // eslint-disable-next-line no-ex-assign\n            err = combineErrors([err, resourceErr])\n          }\n\n          throw new NotOpenError(err)\n        }\n\n        this.#status = 'open'\n\n        if (postopen !== null) {\n          let hookErr\n\n          try {\n            // Prevent deadlock\n            this.#statusLocked = true\n            await postopen(options)\n          } catch (err) {\n            hookErr = convertRejection(err)\n          } finally {\n            this.#statusLocked = false\n          }\n\n          // Revert\n          if (hookErr) {\n            this.#status = 'closing'\n            this.#queue.drain()\n\n            try {\n              await this.#closeResources()\n              await this._close()\n            } catch (closeErr) {\n              // There's no safe state to return to. Can't return to 'open' because\n              // postopen hook failed. Can't return to 'closed' (with the ability to\n              // reopen) because the underlying database is potentially still open.\n              this.#statusLocked = true\n              hookErr = combineErrors([hookErr, closeErr])\n            }\n\n            this.#status = 'closed'\n\n            throw new ModuleError('The postopen hook failed on open()', {\n              code: 'LEVEL_HOOK_ERROR',\n              cause: hookErr\n            })\n          }\n        }\n\n        this.#queue.drain()\n        this.emit('open')\n      })()\n\n      try {\n        await this.#statusChange\n      } finally {\n        this.#statusChange = null\n      }\n    } else if (this.#status !== 'open') {\n      /* istanbul ignore next: should not happen */\n      throw new NotOpenError()\n    }\n  }\n\n  async _open (options) {}\n\n  async close () {\n    // Wait for pending changes and check that closing is allowed\n    this.#assertUnlocked()\n    while (this.#statusChange !== null) await this.#statusChange.catch(noop)\n    this.#assertUnlocked()\n\n    if (this.#status === 'open' || this.#deferOpen) {\n      // If close() was called after constructor, we didn't open yet\n      const fromInitial = this.#deferOpen\n\n      this.#deferOpen = false\n      this.#statusChange = resolvedPromise\n      this.#statusChange = (async () => {\n        this.#status = 'closing'\n        this.#queue.drain()\n\n        try {\n          this.emit('closing')\n          await this.#closeResources()\n          if (!fromInitial) await this._close()\n        } catch (err) {\n          this.#status = 'open'\n          this.#queue.drain()\n          throw new NotClosedError(err)\n        }\n\n        this.#status = 'closed'\n        this.#queue.drain()\n        this.emit('closed')\n      })()\n\n      try {\n        await this.#statusChange\n      } finally {\n        this.#statusChange = null\n      }\n    } else if (this.#status !== 'closed') {\n      /* istanbul ignore next: should not happen */\n      throw new NotClosedError()\n    }\n  }\n\n  async #closeResources () {\n    if (this.#resources.size === 0) {\n      return\n    }\n\n    // In parallel so that all resources know they are closed\n    const resources = Array.from(this.#resources)\n    const promises = resources.map(closeResource)\n    const results = await Promise.allSettled(promises)\n    const errors = []\n\n    for (let i = 0; i < results.length; i++) {\n      if (results[i].status === 'fulfilled') {\n        this.#resources.delete(resources[i])\n      } else {\n        errors.push(convertRejection(results[i].reason))\n      }\n    }\n\n    if (errors.length > 0) {\n      throw combineErrors(errors)\n    }\n  }\n\n  async _close () {}\n\n  async get (key, options) {\n    options = getOptions(options, this.#defaultOptions.entry)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.get(key, options))\n    }\n\n    this.#assertOpen()\n    this._assertValidKey(key)\n\n    const snapshot = options.snapshot\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options === this.#defaultOptions.entry) {\n      options = this.#defaultOptions.entryFormat\n    } else if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = { ...options, keyEncoding: keyFormat, valueEncoding: valueFormat }\n    }\n\n    const encodedKey = keyEncoding.encode(key)\n    const mappedKey = this.prefixKey(encodedKey, keyFormat, true)\n\n    // Keep snapshot open during operation\n    snapshot?.ref()\n\n    let value\n\n    try {\n      value = await this._get(mappedKey, options)\n    } finally {\n      // Release snapshot\n      snapshot?.unref()\n    }\n\n    try {\n      return value === undefined ? value : valueEncoding.decode(value)\n    } catch (err) {\n      throw new ModuleError('Could not decode value', {\n        code: 'LEVEL_DECODE_ERROR',\n        cause: err\n      })\n    }\n  }\n\n  async _get (key, options) {\n    return undefined\n  }\n\n  getSync (key, options) {\n    if (this.status !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    this._assertValidKey(key)\n\n    // Fast-path for default options (known encoding, no cloning, no snapshot)\n    if (options == null) {\n      const encodedKey = this.#keyEncoding.encode(key)\n      const mappedKey = this.prefixKey(encodedKey, this.#keyEncoding.format, true)\n      const value = this._getSync(mappedKey, this.#defaultOptions.entryFormat)\n\n      try {\n        return value !== undefined ? this.#valueEncoding.decode(value) : undefined\n      } catch (err) {\n        throw new ModuleError('Could not decode value', {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        })\n      }\n    }\n\n    const snapshot = options.snapshot\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = { ...options, keyEncoding: keyFormat, valueEncoding: valueFormat }\n    }\n\n    const encodedKey = keyEncoding.encode(key)\n    const mappedKey = this.prefixKey(encodedKey, keyFormat, true)\n\n    let value\n\n    // Keep snapshot open during operation\n    snapshot?.ref()\n\n    try {\n      value = this._getSync(mappedKey, options)\n    } finally {\n      // Release snapshot\n      snapshot?.unref()\n    }\n\n    try {\n      return value !== undefined ? valueEncoding.decode(value) : undefined\n    } catch (err) {\n      throw new ModuleError('Could not decode value', {\n        code: 'LEVEL_DECODE_ERROR',\n        cause: err\n      })\n    }\n  }\n\n  _getSync (key, options) {\n    throw new ModuleError('Database does not support getSync()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  async getMany (keys, options) {\n    options = getOptions(options, this.#defaultOptions.entry)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.getMany(keys, options))\n    }\n\n    this.#assertOpen()\n\n    if (!Array.isArray(keys)) {\n      throw new TypeError(\"The first argument 'keys' must be an array\")\n    }\n\n    if (keys.length === 0) {\n      return []\n    }\n\n    const snapshot = options.snapshot\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options === this.#defaultOptions.entry) {\n      options = this.#defaultOptions.entryFormat\n    } else if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = { ...options, keyEncoding: keyFormat, valueEncoding: valueFormat }\n    }\n\n    const mappedKeys = new Array(keys.length)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      this._assertValidKey(key)\n      mappedKeys[i] = this.prefixKey(keyEncoding.encode(key), keyFormat, true)\n    }\n\n    // Keep snapshot open during operation\n    snapshot?.ref()\n\n    let values\n\n    try {\n      values = await this._getMany(mappedKeys, options)\n    } finally {\n      // Release snapshot\n      snapshot?.unref()\n    }\n\n    try {\n      for (let i = 0; i < values.length; i++) {\n        if (values[i] !== undefined) {\n          values[i] = valueEncoding.decode(values[i])\n        }\n      }\n    } catch (err) {\n      throw new ModuleError(`Could not decode one or more of ${values.length} value(s)`, {\n        code: 'LEVEL_DECODE_ERROR',\n        cause: err\n      })\n    }\n\n    return values\n  }\n\n  async _getMany (keys, options) {\n    return new Array(keys.length).fill(undefined)\n  }\n\n  async has (key, options) {\n    options = getOptions(options, this.#defaultOptions.key)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.has(key, options))\n    }\n\n    this.#assertOpen()\n    this._assertValidKey(key)\n\n    const snapshot = options.snapshot\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options === this.#defaultOptions.key) {\n      options = this.#defaultOptions.keyFormat\n    } else if (options.keyEncoding !== keyFormat) {\n      options = { ...options, keyEncoding: keyFormat }\n    }\n\n    const encodedKey = keyEncoding.encode(key)\n    const mappedKey = this.prefixKey(encodedKey, keyFormat, true)\n\n    // Keep snapshot open during operation\n    snapshot?.ref()\n\n    try {\n      return this._has(mappedKey, options)\n    } finally {\n      // Release snapshot\n      snapshot?.unref()\n    }\n  }\n\n  async _has (key, options) {\n    throw new ModuleError('Database does not support has()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  async hasMany (keys, options) {\n    options = getOptions(options, this.#defaultOptions.key)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.hasMany(keys, options))\n    }\n\n    this.#assertOpen()\n\n    if (!Array.isArray(keys)) {\n      throw new TypeError(\"The first argument 'keys' must be an array\")\n    }\n\n    if (keys.length === 0) {\n      return []\n    }\n\n    const snapshot = options.snapshot\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options === this.#defaultOptions.key) {\n      options = this.#defaultOptions.keyFormat\n    } else if (options.keyEncoding !== keyFormat) {\n      options = { ...options, keyEncoding: keyFormat }\n    }\n\n    const mappedKeys = new Array(keys.length)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      this._assertValidKey(key)\n      mappedKeys[i] = this.prefixKey(keyEncoding.encode(key), keyFormat, true)\n    }\n\n    // Keep snapshot open during operation\n    snapshot?.ref()\n\n    try {\n      return this._hasMany(mappedKeys, options)\n    } finally {\n      // Release snapshot\n      snapshot?.unref()\n    }\n  }\n\n  async _hasMany (keys, options) {\n    throw new ModuleError('Database does not support hasMany()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  async put (key, value, options) {\n    if (!this.hooks.prewrite.noop) {\n      // Forward to batch() which will run the hook\n      // Note: technically means that put() supports the sublevel option in this case,\n      // but it generally doesn't per documentation (which makes sense). Same for del().\n      return this.batch([{ type: 'put', key, value }], options)\n    }\n\n    options = getOptions(options, this.#defaultOptions.entry)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.put(key, value, options))\n    }\n\n    this.#assertOpen()\n\n    this._assertValidKey(key)\n    this._assertValidValue(value)\n\n    // Encode data for private API\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n    const enableWriteEvent = this.#eventMonitor.write\n    const original = options\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options === this.#defaultOptions.entry) {\n      options = this.#defaultOptions.entryFormat\n    } else if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = { ...options, keyEncoding: keyFormat, valueEncoding: valueFormat }\n    }\n\n    const encodedKey = keyEncoding.encode(key)\n    const prefixedKey = this.prefixKey(encodedKey, keyFormat, true)\n    const encodedValue = valueEncoding.encode(value)\n\n    await this._put(prefixedKey, encodedValue, options)\n\n    if (enableWriteEvent) {\n      const op = {\n        ...original,\n        type: 'put',\n        key,\n        value,\n        keyEncoding,\n        valueEncoding,\n        encodedKey,\n        encodedValue\n      }\n\n      this.emit('write', [op])\n    }\n  }\n\n  async _put (key, value, options) {}\n\n  async del (key, options) {\n    if (!this.hooks.prewrite.noop) {\n      // Forward to batch() which will run the hook\n      return this.batch([{ type: 'del', key }], options)\n    }\n\n    options = getOptions(options, this.#defaultOptions.key)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.del(key, options))\n    }\n\n    this.#assertOpen()\n    this._assertValidKey(key)\n\n    // Encode data for private API\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n    const enableWriteEvent = this.#eventMonitor.write\n    const original = options\n\n    // Forward encoding options. Avoid cloning if possible.\n    if (options === this.#defaultOptions.key) {\n      options = this.#defaultOptions.keyFormat\n    } else if (options.keyEncoding !== keyFormat) {\n      options = { ...options, keyEncoding: keyFormat }\n    }\n\n    const encodedKey = keyEncoding.encode(key)\n    const prefixedKey = this.prefixKey(encodedKey, keyFormat, true)\n\n    await this._del(prefixedKey, options)\n\n    if (enableWriteEvent) {\n      const op = {\n        ...original,\n        type: 'del',\n        key,\n        keyEncoding,\n        encodedKey\n      }\n\n      this.emit('write', [op])\n    }\n  }\n\n  async _del (key, options) {}\n\n  // TODO (future): add way for implementations to declare which options are for the\n  // whole batch rather than defaults for individual operations. E.g. the sync option\n  // of classic-level, that should not be copied to individual operations.\n  batch (operations, options) {\n    if (!arguments.length) {\n      this.#assertOpen()\n      return this._chainedBatch()\n    }\n\n    options = getOptions(options, this.#defaultOptions.empty)\n    return this.#arrayBatch(operations, options)\n  }\n\n  // Wrapped for async error handling\n  async #arrayBatch (operations, options) {\n    // TODO (not urgent): freeze prewrite hook and write event\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.#arrayBatch(operations, options))\n    }\n\n    this.#assertOpen()\n\n    if (!Array.isArray(operations)) {\n      throw new TypeError(\"The first argument 'operations' must be an array\")\n    }\n\n    if (operations.length === 0) {\n      return\n    }\n\n    const length = operations.length\n    const enablePrewriteHook = !this.hooks.prewrite.noop\n    const enableWriteEvent = this.#eventMonitor.write\n    const publicOperations = enableWriteEvent ? new Array(length) : null\n    const privateOperations = new Array(length)\n    const prewriteBatch = enablePrewriteHook\n      ? new PrewriteBatch(this, privateOperations, publicOperations)\n      : null\n\n    for (let i = 0; i < length; i++) {\n      // Clone the op so that we can freely mutate it. We can't use a class because the\n      // op can have userland properties that we'd have to copy, negating the performance\n      // benefits of a class. So use a plain object.\n      const op = { ...options, ...operations[i] }\n\n      // Hook functions can modify op but not its type or sublevel, so cache those\n      const isPut = op.type === 'put'\n      const delegated = op.sublevel != null\n      const db = delegated ? op.sublevel : this\n\n      db._assertValidKey(op.key)\n\n      op.keyEncoding = db.keyEncoding(op.keyEncoding)\n\n      if (isPut) {\n        db._assertValidValue(op.value)\n        op.valueEncoding = db.valueEncoding(op.valueEncoding)\n      } else if (op.type !== 'del') {\n        throw new TypeError(\"A batch operation must have a type property that is 'put' or 'del'\")\n      }\n\n      if (enablePrewriteHook) {\n        try {\n          this.hooks.prewrite.run(op, prewriteBatch)\n\n          // Normalize encodings again in case they were modified\n          op.keyEncoding = db.keyEncoding(op.keyEncoding)\n          if (isPut) op.valueEncoding = db.valueEncoding(op.valueEncoding)\n        } catch (err) {\n          throw new ModuleError('The prewrite hook failed on batch()', {\n            code: 'LEVEL_HOOK_ERROR',\n            cause: err\n          })\n        }\n      }\n\n      // Encode data for private API\n      const keyEncoding = op.keyEncoding\n      const preencodedKey = keyEncoding.encode(op.key)\n      const keyFormat = keyEncoding.format\n\n      // If the sublevel is not a descendant then forward that option to the parent db\n      // so that we don't erroneously add our own prefix to the key of the operation.\n      const siblings = delegated && !isDescendant(op.sublevel, this) && op.sublevel !== this\n      const encodedKey = delegated && !siblings\n        ? prefixDescendantKey(preencodedKey, keyFormat, db, this)\n        : preencodedKey\n\n      // Only prefix once\n      if (delegated && !siblings) {\n        op.sublevel = null\n      }\n\n      let publicOperation = null\n\n      // If the sublevel is not a descendant then we shouldn't emit events\n      if (enableWriteEvent && !siblings) {\n        // Clone op before we mutate it for the private API\n        // TODO (future semver-major): consider sending this shape to private API too\n        publicOperation = { ...op }\n        publicOperation.encodedKey = encodedKey\n\n        if (delegated) {\n          // Ensure emitted data makes sense in the context of this db\n          publicOperation.key = encodedKey\n          publicOperation.keyEncoding = this.keyEncoding(keyFormat)\n        }\n\n        publicOperations[i] = publicOperation\n      }\n\n      // If we're forwarding the sublevel option then don't prefix the key yet\n      op.key = siblings ? encodedKey : this.prefixKey(encodedKey, keyFormat, true)\n      op.keyEncoding = keyFormat\n\n      if (isPut) {\n        const valueEncoding = op.valueEncoding\n        const encodedValue = valueEncoding.encode(op.value)\n        const valueFormat = valueEncoding.format\n\n        op.value = encodedValue\n        op.valueEncoding = valueFormat\n\n        if (enableWriteEvent && !siblings) {\n          publicOperation.encodedValue = encodedValue\n\n          if (delegated) {\n            publicOperation.value = encodedValue\n            publicOperation.valueEncoding = this.valueEncoding(valueFormat)\n          }\n        }\n      }\n\n      privateOperations[i] = op\n    }\n\n    // TODO (future): maybe add separate hook to run on private data. Currently can't work\n    // because prefixing happens too soon; we need to move that logic to the private\n    // API of AbstractSublevel (or reimplement with hooks). TBD how it'd work in chained\n    // batch. Hook would look something like hooks.midwrite.run(privateOperations, ...).\n\n    await this._batch(privateOperations, options)\n\n    if (enableWriteEvent) {\n      this.emit('write', publicOperations)\n    }\n  }\n\n  async _batch (operations, options) {}\n\n  sublevel (name, options) {\n    const xopts = AbstractSublevel.defaults(options)\n    const sublevel = this._sublevel(name, xopts)\n\n    if (!this.hooks.newsub.noop) {\n      try {\n        this.hooks.newsub.run(sublevel, xopts)\n      } catch (err) {\n        throw new ModuleError('The newsub hook failed on sublevel()', {\n          code: 'LEVEL_HOOK_ERROR',\n          cause: err\n        })\n      }\n    }\n\n    return sublevel\n  }\n\n  _sublevel (name, options) {\n    return new AbstractSublevel(this, name, options)\n  }\n\n  prefixKey (key, keyFormat, local) {\n    return key\n  }\n\n  async clear (options) {\n    options = getOptions(options, this.#defaultOptions.empty)\n\n    if (this.#status === 'opening') {\n      return this.deferAsync(() => this.clear(options))\n    }\n\n    this.#assertOpen()\n\n    const original = options\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const snapshot = options.snapshot\n\n    options = rangeOptions(options, keyEncoding)\n    options.keyEncoding = keyEncoding.format\n\n    if (options.limit !== 0) {\n      // Keep snapshot open during operation\n      snapshot?.ref()\n\n      try {\n        await this._clear(options)\n      } finally {\n        // Release snapshot\n        snapshot?.unref()\n      }\n\n      this.emit('clear', original)\n    }\n  }\n\n  async _clear (options) {}\n\n  iterator (options) {\n    const keyEncoding = this.keyEncoding(options?.keyEncoding)\n    const valueEncoding = this.valueEncoding(options?.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keys = options.keys !== false\n    options.values = options.values !== false\n\n    // We need the original encoding options in AbstractIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this.#status === 'opening') {\n      return new DeferredIterator(this, options)\n    }\n\n    this.#assertOpen()\n    return this._iterator(options)\n  }\n\n  _iterator (options) {\n    return new AbstractIterator(this, options)\n  }\n\n  keys (options) {\n    // Also include valueEncoding (though unused) because we may fallback to _iterator()\n    const keyEncoding = this.keyEncoding(options?.keyEncoding)\n    const valueEncoding = this.valueEncoding(options?.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractKeyIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this.#status === 'opening') {\n      return new DeferredKeyIterator(this, options)\n    }\n\n    this.#assertOpen()\n    return this._keys(options)\n  }\n\n  _keys (options) {\n    return new DefaultKeyIterator(this, options)\n  }\n\n  values (options) {\n    const keyEncoding = this.keyEncoding(options?.keyEncoding)\n    const valueEncoding = this.valueEncoding(options?.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractValueIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this.#status === 'opening') {\n      return new DeferredValueIterator(this, options)\n    }\n\n    this.#assertOpen()\n    return this._values(options)\n  }\n\n  _values (options) {\n    return new DefaultValueIterator(this, options)\n  }\n\n  snapshot (options) {\n    this.#assertOpen()\n\n    // Owner is an undocumented option explained in AbstractSnapshot\n    if (typeof options !== 'object' || options === null) {\n      options = this.#defaultOptions.owner\n    } else if (options.owner == null) {\n      options = { ...options, owner: this }\n    }\n\n    return this._snapshot(options)\n  }\n\n  _snapshot (options) {\n    throw new ModuleError('Database does not support explicit snapshots', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  defer (fn, options) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The first argument must be a function')\n    }\n\n    this.#queue.add(function (abortError) {\n      if (!abortError) fn()\n    }, options)\n  }\n\n  deferAsync (fn, options) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The first argument must be a function')\n    }\n\n    return new Promise((resolve, reject) => {\n      this.#queue.add(function (abortError) {\n        if (abortError) reject(abortError)\n        else fn().then(resolve, reject)\n      }, options)\n    })\n  }\n\n  attachResource (resource) {\n    if (typeof resource !== 'object' || resource === null ||\n      typeof resource.close !== 'function') {\n      throw new TypeError('The first argument must be a resource object')\n    }\n\n    this.#resources.add(resource)\n  }\n\n  detachResource (resource) {\n    this.#resources.delete(resource)\n  }\n\n  _chainedBatch () {\n    return new DefaultChainedBatch(this)\n  }\n\n  _assertValidKey (key) {\n    if (key === null || key === undefined) {\n      throw new ModuleError('Key cannot be null or undefined', {\n        code: 'LEVEL_INVALID_KEY'\n      })\n    }\n  }\n\n  _assertValidValue (value) {\n    if (value === null || value === undefined) {\n      throw new ModuleError('Value cannot be null or undefined', {\n        code: 'LEVEL_INVALID_VALUE'\n      })\n    }\n  }\n\n  #assertOpen () {\n    if (this.#status !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n  }\n\n  #assertUnlocked () {\n    if (this.#statusLocked) {\n      throw new ModuleError('Database status is locked', {\n        code: 'LEVEL_STATUS_LOCKED'\n      })\n    }\n  }\n}\n\nconst { AbstractSublevel } = require('./lib/abstract-sublevel')({ AbstractLevel })\n\nexports.AbstractLevel = AbstractLevel\nexports.AbstractSublevel = AbstractSublevel\n\nif (typeof Symbol.asyncDispose === 'symbol') {\n  AbstractLevel.prototype[Symbol.asyncDispose] = async function () {\n    return this.close()\n  }\n}\n\nconst formats = function (db) {\n  return Object.keys(db.supports.encodings)\n    .filter(k => !!db.supports.encodings[k])\n}\n\nconst closeResource = function (resource) {\n  return resource.close()\n}\n\n// Ensure that we don't work with falsy err values, because JavaScript unfortunately\n// allows Promise.reject(null) and similar patterns. Which'd break `if (err)` logic.\nconst convertRejection = function (reason) {\n  if (reason instanceof Error) {\n    return reason\n  }\n\n  if (Object.prototype.toString.call(reason) === '[object Error]') {\n    return reason\n  }\n\n  const hint = reason === null ? 'null' : typeof reason\n  const msg = `Promise rejection reason must be an Error, received ${hint}`\n\n  return new TypeError(msg)\n}\n\n// Internal utilities, not typed or exported\nclass NotOpenError extends ModuleError {\n  constructor (cause) {\n    super('Database failed to open', {\n      code: 'LEVEL_DATABASE_NOT_OPEN',\n      cause\n    })\n  }\n}\n\nclass NotClosedError extends ModuleError {\n  constructor (cause) {\n    super('Database failed to close', {\n      code: 'LEVEL_DATABASE_NOT_CLOSED',\n      cause\n    })\n  }\n}\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst { noop } = require('./lib/common')\n\nclass AbstractSnapshot {\n  #open = true\n  #referenceCount = 0\n  #pendingClose = null\n  #closePromise = null\n  #owner\n\n  constructor (options) {\n    // Defining this as an option gives sublevels the opportunity to create a snapshot\n    // via their parent database but still designate themselves as the \"owner\", which\n    // just means which database will close the snapshot upon db.close(). This ensures\n    // that the API of AbstractSublevel is symmetrical to AbstractLevel.\n    const owner = options.owner\n\n    if (typeof owner !== 'object' || owner === null) {\n      const hint = owner === null ? 'null' : typeof owner\n      throw new TypeError(`Owner must be an abstract-level database, received ${hint}`)\n    }\n\n    // Also ensures this db will not be garbage collected\n    this.#owner = owner\n    this.#owner.attachResource(this)\n  }\n\n  ref () {\n    if (!this.#open) {\n      throw new ModuleError('Snapshot is not open: cannot use snapshot after close()', {\n        code: 'LEVEL_SNAPSHOT_NOT_OPEN'\n      })\n    }\n\n    this.#referenceCount++\n  }\n\n  unref () {\n    if (--this.#referenceCount === 0) {\n      this.#pendingClose?.()\n    }\n  }\n\n  async close () {\n    if (this.#closePromise !== null) {\n      // First caller of close() is responsible for error\n      return this.#closePromise.catch(noop)\n    }\n\n    this.#open = false\n\n    // Wrap to avoid race issues on recursive calls\n    this.#closePromise = new Promise((resolve, reject) => {\n      this.#pendingClose = () => {\n        this.#pendingClose = null\n        privateClose(this, this.#owner).then(resolve, reject)\n      }\n    })\n\n    // If working we'll delay closing, but still handle the close error (if any) here\n    if (this.#referenceCount === 0) {\n      this.#pendingClose()\n    }\n\n    return this.#closePromise\n  }\n\n  async _close () {}\n}\n\nif (typeof Symbol.asyncDispose === 'symbol') {\n  AbstractSnapshot.prototype[Symbol.asyncDispose] = async function () {\n    return this.close()\n  }\n}\n\nconst privateClose = async function (snapshot, owner) {\n  await snapshot._close()\n  owner.detachResource(snapshot)\n}\n\nexports.AbstractSnapshot = AbstractSnapshot\n", "'use strict'\n\nexports.AbstractLevel = require('./abstract-level').AbstractLevel\nexports.AbstractSublevel = require('./abstract-level').AbstractSublevel\nexports.AbstractIterator = require('./abstract-iterator').AbstractIterator\nexports.AbstractKeyIterator = require('./abstract-iterator').AbstractKeyIterator\nexports.AbstractValueIterator = require('./abstract-iterator').AbstractValueIterator\nexports.AbstractChainedBatch = require('./abstract-chained-batch').AbstractChainedBatch\nexports.AbstractSnapshot = require('./abstract-snapshot').AbstractSnapshot\n", "/* global IDBKeyRange */\n\n'use strict'\n\nmodule.exports = function createKeyRange (options) {\n  const lower = options.gte !== undefined ? options.gte : options.gt !== undefined ? options.gt : undefined\n  const upper = options.lte !== undefined ? options.lte : options.lt !== undefined ? options.lt : undefined\n  const lowerExclusive = options.gte === undefined\n  const upperExclusive = options.lte === undefined\n\n  if (lower !== undefined && upper !== undefined) {\n    return IDBKeyRange.bound(lower, upper, lowerExclusive, upperExclusive)\n  } else if (lower !== undefined) {\n    return IDBKeyRange.lowerBound(lower, lowerExclusive)\n  } else if (upper !== undefined) {\n    return IDBKeyRange.upperBound(upper, upperExclusive)\n  } else {\n    return null\n  }\n}\n", "'use strict'\n\nconst textEncoder = new TextEncoder()\n\nmodule.exports = function (data) {\n  if (data === undefined) {\n    // Undefined means not found in both IndexedDB and AbstractLevel\n    return data\n  } else if (data instanceof Uint8Array) {\n    return data\n  } else if (data instanceof ArrayBuffer) {\n    return new Uint8Array(data)\n  } else {\n    // Non-binary data stored with an old version (level-js < 5.0.0)\n    return textEncoder.encode(data)\n  }\n}\n", "'use strict'\n\nconst { AbstractIterator } = require('abstract-level')\nconst createKeyRange = require('./util/key-range')\nconst deserialize = require('./util/deserialize')\n\nconst kCache = Symbol('cache')\nconst kFinished = Symbol('finished')\nconst kOptions = Symbol('options')\nconst kCurrentOptions = Symbol('currentOptions')\nconst kPosition = Symbol('position')\nconst kLocation = Symbol('location')\nconst kFirst = Symbol('first')\nconst emptyOptions = {}\n\nclass Iterator extends AbstractIterator {\n  constructor (db, location, options) {\n    super(db, options)\n\n    this[kCache] = []\n    this[kFinished] = this.limit === 0\n    this[kOptions] = options\n    this[kCurrentOptions] = { ...options }\n    this[kPosition] = undefined\n    this[kLocation] = location\n    this[kFirst] = true\n  }\n\n  // Note: if called by _all() then size can be Infinity. This is an internal\n  // detail; by design AbstractIterator.nextv() does not support Infinity.\n  async _nextv (size, options) {\n    this[kFirst] = false\n\n    if (this[kFinished]) {\n      return []\n    }\n\n    if (this[kCache].length > 0) {\n      // TODO: mixing next and nextv is not covered by test suite\n      size = Math.min(size, this[kCache].length)\n      return this[kCache].splice(0, size)\n    }\n\n    // Adjust range by what we already visited\n    if (this[kPosition] !== undefined) {\n      if (this[kOptions].reverse) {\n        this[kCurrentOptions].lt = this[kPosition]\n        this[kCurrentOptions].lte = undefined\n      } else {\n        this[kCurrentOptions].gt = this[kPosition]\n        this[kCurrentOptions].gte = undefined\n      }\n    }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kCurrentOptions])\n    } catch (_) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just return 0 results.\n      this[kFinished] = true\n      return []\n    }\n\n    const transaction = this.db.db.transaction([this[kLocation]], 'readonly')\n    const store = transaction.objectStore(this[kLocation])\n    const entries = []\n\n    const promise = new Promise(function (resolve, reject) {\n      // If an error occurs (on the request), the transaction will abort.\n      transaction.onabort = () => {\n        reject(transaction.error || new Error('aborted by user'))\n      }\n\n      transaction.oncomplete = () => {\n        resolve(entries)\n      }\n    })\n\n    if (!this[kOptions].reverse) {\n      let keys\n      let values\n\n      const complete = () => {\n        // Wait for both requests to complete\n        if (keys === undefined || values === undefined) return\n\n        const length = Math.max(keys.length, values.length)\n\n        if (length === 0 || size === Infinity) {\n          this[kFinished] = true\n        } else {\n          this[kPosition] = keys[length - 1]\n        }\n\n        // Resize\n        entries.length = length\n\n        // Merge keys and values\n        for (let i = 0; i < length; i++) {\n          const key = keys[i]\n          const value = values[i]\n\n          entries[i] = [\n            this[kOptions].keys ? deserialize(key) : undefined,\n            this[kOptions].values ? deserialize(value) : undefined\n          ]\n        }\n\n        maybeCommit(transaction)\n      }\n\n      // If keys were not requested and size is Infinity, we don't have to keep\n      // track of position and can thus skip getting keys.\n      if (this[kOptions].keys || size < Infinity) {\n        store.getAllKeys(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          keys = ev.target.result\n          complete()\n        }\n      } else {\n        keys = []\n        complete()\n      }\n\n      if (this[kOptions].values) {\n        store.getAll(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          values = ev.target.result\n          complete()\n        }\n      } else {\n        values = []\n        complete()\n      }\n    } else {\n      // Can't use getAll() in reverse, so use a slower cursor that yields one item at a time\n      // TODO: test if all target browsers support openKeyCursor\n      const method = !this[kOptions].values && store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n\n      store[method](keyRange, 'prev').onsuccess = (ev) => {\n        const cursor = ev.target.result\n\n        if (cursor) {\n          const { key, value } = cursor\n          this[kPosition] = key\n\n          entries.push([\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ])\n\n          if (entries.length < size) {\n            cursor.continue()\n          } else {\n            maybeCommit(transaction)\n          }\n        } else {\n          this[kFinished] = true\n        }\n      }\n    }\n\n    return promise\n  }\n\n  async _next () {\n    if (this[kCache].length > 0) {\n      return this[kCache].shift()\n    }\n\n    if (!this[kFinished]) {\n      let size = Math.min(100, this.limit - this.count)\n\n      if (this[kFirst]) {\n        // It's common to only want one entry initially or after a seek()\n        this[kFirst] = false\n        size = 1\n      }\n\n      this[kCache] = await this._nextv(size, emptyOptions)\n\n      // Shift returns undefined if empty, which is what we want\n      return this[kCache].shift()\n    }\n  }\n\n  async _all (options) {\n    this[kFirst] = false\n\n    // TODO: mixing next and all is not covered by test suite\n    const cache = this[kCache].splice(0, this[kCache].length)\n    const size = this.limit - this.count - cache.length\n\n    if (size <= 0) {\n      return cache\n    }\n\n    let entries = await this._nextv(size, emptyOptions)\n    if (cache.length > 0) entries = cache.concat(entries)\n\n    return entries\n  }\n\n  _seek (target, options) {\n    this[kFirst] = true\n    this[kCache] = []\n    this[kFinished] = false\n    this[kPosition] = undefined\n\n    // TODO: not covered by test suite\n    this[kCurrentOptions] = { ...this[kOptions] }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kOptions])\n    } catch (_) {\n      this[kFinished] = true\n      return\n    }\n\n    if (keyRange !== null && !keyRange.includes(target)) {\n      this[kFinished] = true\n    } else if (this[kOptions].reverse) {\n      this[kCurrentOptions].lte = target\n    } else {\n      this[kCurrentOptions].gte = target\n    }\n  }\n}\n\nexports.Iterator = Iterator\n\nfunction maybeCommit (transaction) {\n  // Commit (meaning close) now instead of waiting for auto-commit\n  if (typeof transaction.commit === 'function') {\n    transaction.commit()\n  }\n}\n", "'use strict'\n\nmodule.exports = async function clear (db, location, keyRange, options) {\n  if (options.limit === 0) return\n\n  const transaction = db.db.transaction([location], 'readwrite')\n  const store = transaction.objectStore(location)\n\n  let count = 0\n\n  const promise = new Promise(function (resolve, reject) {\n    transaction.oncomplete = resolve\n\n    transaction.onabort = function () {\n      reject(transaction.error || new Error('aborted by user'))\n    }\n  })\n\n  // A key cursor is faster (skips reading values) but not supported by IE\n  // TODO: we no longer support IE. Test others\n  const method = store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n  const direction = options.reverse ? 'prev' : 'next'\n\n  store[method](keyRange, direction).onsuccess = function (ev) {\n    const cursor = ev.target.result\n\n    if (cursor) {\n      // Wait for a request to complete before continuing, saving CPU.\n      store.delete(cursor.key).onsuccess = function () {\n        if (options.limit <= 0 || ++count < options.limit) {\n          cursor.continue()\n        }\n      }\n    }\n  }\n\n  return promise\n}\n", "/* global indexedDB */\n\n'use strict'\n\nconst { AbstractLevel } = require('abstract-level')\nconst { Iterator } = require('./iterator')\nconst deserialize = require('./util/deserialize')\nconst clear = require('./util/clear')\nconst createKeyRange = require('./util/key-range')\n\n// Keep as-is for compatibility with existing level-js databases\nconst DEFAULT_PREFIX = 'level-js-'\n\nconst kIDB = Symbol('idb')\nconst kNamePrefix = Symbol('namePrefix')\nconst kLocation = Symbol('location')\nconst kVersion = Symbol('version')\nconst kStore = Symbol('store')\nconst kOnComplete = Symbol('onComplete')\n\nclass BrowserLevel extends AbstractLevel {\n  constructor (location, options) {\n    const { prefix, version, ...forward } = options || {}\n\n    super({\n      encodings: { view: true },\n      snapshots: false,\n      createIfMissing: false,\n      errorIfExists: false,\n      seek: true,\n      has: true,\n      getSync: false\n    }, forward)\n\n    if (typeof location !== 'string' || location === '') {\n      throw new TypeError(\"The first argument 'location' must be a non-empty string\")\n    }\n\n    // TODO (next major): remove default prefix\n    this[kLocation] = location\n    this[kNamePrefix] = prefix == null ? DEFAULT_PREFIX : prefix\n    this[kVersion] = parseInt(version || 1, 10)\n    this[kIDB] = null\n  }\n\n  get location () {\n    return this[kLocation]\n  }\n\n  get namePrefix () {\n    return this[kNamePrefix]\n  }\n\n  get version () {\n    return this[kVersion]\n  }\n\n  // Exposed for backwards compat and unit tests\n  get db () {\n    return this[kIDB]\n  }\n\n  get type () {\n    return 'browser-level'\n  }\n\n  async _open (options) {\n    const request = indexedDB.open(this[kNamePrefix] + this[kLocation], this[kVersion])\n\n    request.onupgradeneeded = (ev) => {\n      const db = ev.target.result\n\n      if (!db.objectStoreNames.contains(this[kLocation])) {\n        db.createObjectStore(this[kLocation])\n      }\n    }\n\n    return new Promise((resolve, reject) => {\n      request.onerror = function () {\n        reject(request.error || new Error('unknown error'))\n      }\n\n      request.onsuccess = () => {\n        this[kIDB] = request.result\n        resolve()\n      }\n    })\n  }\n\n  [kStore] (mode) {\n    const transaction = this[kIDB].transaction([this[kLocation]], mode)\n    return transaction.objectStore(this[kLocation])\n  }\n\n  [kOnComplete] (request) {\n    const transaction = request.transaction\n\n    return new Promise(function (resolve, reject) {\n      // Take advantage of the fact that a non-canceled request error aborts\n      // the transaction. I.e. no need to listen for \"request.onerror\".\n      transaction.onabort = function () {\n        reject(transaction.error || new Error('aborted by user'))\n      }\n\n      transaction.oncomplete = function () {\n        resolve(request.result)\n      }\n    })\n  }\n\n  async _get (key, options) {\n    const store = this[kStore]('readonly')\n    const request = store.get(key)\n    const value = await this[kOnComplete](request)\n\n    return deserialize(value)\n  }\n\n  async _getMany (keys, options) {\n    const store = this[kStore]('readonly')\n    const iterator = keys.values()\n\n    // Consume the iterator with N parallel worker bees\n    const n = Math.min(16, keys.length)\n    const bees = new Array(n)\n    const values = new Array(keys.length)\n\n    let keyIndex = 0\n    let abort = false\n\n    const bee = async function () {\n      try {\n        for (const key of iterator) {\n          if (abort) break\n\n          const valueIndex = keyIndex++\n          const request = store.get(key)\n\n          await new Promise(function (resolve, reject) {\n            request.onsuccess = () => {\n              values[valueIndex] = deserialize(request.result)\n              resolve()\n            }\n\n            request.onerror = (ev) => {\n              ev.stopPropagation()\n              reject(request.error)\n            }\n          })\n        }\n      } catch (err) {\n        abort = true\n        throw err\n      }\n    }\n\n    for (let i = 0; i < n; i++) {\n      bees[i] = bee()\n    }\n\n    await Promise.allSettled(bees)\n    return values\n  }\n\n  async _has (key, options) {\n    const store = this[kStore]('readonly')\n    const request = store.count(key)\n    const count = await this[kOnComplete](request)\n\n    return count === 1\n  }\n\n  async _hasMany (keys, options) {\n    const store = this[kStore]('readonly')\n    const iterator = keys.values()\n\n    // Consume the iterator with N parallel worker bees\n    const n = Math.min(16, keys.length)\n    const bees = new Array(n)\n    const results = new Array(keys.length)\n\n    let keyIndex = 0\n    let abort = false\n\n    const bee = async function () {\n      try {\n        for (const key of iterator) {\n          if (abort) break\n\n          const resultIndex = keyIndex++\n          const request = store.count(key)\n\n          await new Promise(function (resolve, reject) {\n            request.onsuccess = () => {\n              results[resultIndex] = request.result === 1\n              resolve()\n            }\n\n            request.onerror = (ev) => {\n              ev.stopPropagation()\n              reject(request.error)\n            }\n          })\n        }\n      } catch (err) {\n        abort = true\n        throw err\n      }\n    }\n\n    for (let i = 0; i < n; i++) {\n      bees[i] = bee()\n    }\n\n    await Promise.allSettled(bees)\n    return results\n  }\n\n  async _del (key, options) {\n    const store = this[kStore]('readwrite')\n    const request = store.delete(key)\n\n    return this[kOnComplete](request)\n  }\n\n  async _put (key, value, options) {\n    const store = this[kStore]('readwrite')\n\n    // Will throw a DataError or DataCloneError if the environment\n    // does not support serializing the key or value respectively.\n    const request = store.put(value, key)\n\n    return this[kOnComplete](request)\n  }\n\n  // TODO: implement key and value iterators\n  _iterator (options) {\n    return new Iterator(this, this[kLocation], options)\n  }\n\n  async _batch (operations, options) {\n    const store = this[kStore]('readwrite')\n    const transaction = store.transaction\n    let index = 0\n    let error\n\n    const promise = new Promise(function (resolve, reject) {\n      transaction.onabort = function () {\n        reject(error || transaction.error || new Error('aborted by user'))\n      }\n\n      transaction.oncomplete = resolve\n    })\n\n    // Wait for a request to complete before making the next, saving CPU.\n    function loop () {\n      const op = operations[index++]\n      const key = op.key\n\n      let req\n\n      try {\n        req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n      } catch (err) {\n        error = err\n        transaction.abort()\n        return\n      }\n\n      if (index < operations.length) {\n        req.onsuccess = loop\n      } else if (typeof transaction.commit === 'function') {\n        // Commit now instead of waiting for auto-commit\n        transaction.commit()\n      }\n    }\n\n    loop()\n    return promise\n  }\n\n  async _clear (options) {\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(options)\n    } catch (e) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just do nothing.\n      return\n    }\n\n    if (options.limit >= 0) {\n      // IDBObjectStore#delete(range) doesn't have such an option.\n      // Fall back to cursor-based implementation.\n      return clear(this, this[kLocation], keyRange, options)\n    }\n\n    const store = this[kStore]('readwrite')\n    const request = keyRange ? store.delete(keyRange) : store.clear()\n\n    return this[kOnComplete](request)\n  }\n\n  async _close () {\n    this[kIDB].close()\n  }\n}\n\nBrowserLevel.destroy = async function (location, prefix) {\n  if (prefix == null) {\n    prefix = DEFAULT_PREFIX\n  }\n\n  const request = indexedDB.deleteDatabase(prefix + location)\n\n  return new Promise(function (resolve, reject) {\n    request.onsuccess = resolve\n    request.onerror = reject\n  })\n}\n\nexports.BrowserLevel = BrowserLevel\n", "exports.Level = require('browser-level').BrowserLevel\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"crypto\" has been externalized for browser compatibility. Cannot access \"crypto.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", null, null, null, null, null, null, null, null, null, null, "function getType(payload) {\n  return Object.prototype.toString.call(payload).slice(8, -1);\n}\n\nfunction isAnyObject(payload) {\n  return getType(payload) === \"Object\";\n}\n\nfunction isArray(payload) {\n  return getType(payload) === \"Array\";\n}\n\nfunction isBlob(payload) {\n  return getType(payload) === \"Blob\";\n}\n\nfunction isBoolean(payload) {\n  return getType(payload) === \"Boolean\";\n}\n\nfunction isDate(payload) {\n  return getType(payload) === \"Date\" && !isNaN(payload);\n}\n\nfunction isEmptyArray(payload) {\n  return isArray(payload) && payload.length === 0;\n}\n\nfunction isPlainObject(payload) {\n  if (getType(payload) !== \"Object\")\n    return false;\n  const prototype = Object.getPrototypeOf(payload);\n  return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\n\nfunction isEmptyObject(payload) {\n  return isPlainObject(payload) && Object.keys(payload).length === 0;\n}\n\nfunction isEmptyString(payload) {\n  return payload === \"\";\n}\n\nfunction isError(payload) {\n  return getType(payload) === \"Error\" || payload instanceof Error;\n}\n\nfunction isFile(payload) {\n  return getType(payload) === \"File\";\n}\n\nfunction isFullArray(payload) {\n  return isArray(payload) && payload.length > 0;\n}\n\nfunction isFullObject(payload) {\n  return isPlainObject(payload) && Object.keys(payload).length > 0;\n}\n\nfunction isString(payload) {\n  return getType(payload) === \"String\";\n}\n\nfunction isFullString(payload) {\n  return isString(payload) && payload !== \"\";\n}\n\nfunction isFunction(payload) {\n  return typeof payload === \"function\";\n}\n\nfunction isType(payload, type) {\n  if (!(type instanceof Function)) {\n    throw new TypeError(\"Type must be a function\");\n  }\n  if (!Object.prototype.hasOwnProperty.call(type, \"prototype\")) {\n    throw new TypeError(\"Type is not a class\");\n  }\n  const name = type.name;\n  return getType(payload) === name || Boolean(payload && payload.constructor === type);\n}\n\nfunction isInstanceOf(value, classOrClassName) {\n  if (typeof classOrClassName === \"function\") {\n    for (let p = value; p; p = Object.getPrototypeOf(p)) {\n      if (isType(p, classOrClassName)) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    for (let p = value; p; p = Object.getPrototypeOf(p)) {\n      if (getType(p) === classOrClassName) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction isMap(payload) {\n  return getType(payload) === \"Map\";\n}\n\nfunction isNaNValue(payload) {\n  return getType(payload) === \"Number\" && isNaN(payload);\n}\n\nfunction isNumber(payload) {\n  return getType(payload) === \"Number\" && !isNaN(payload);\n}\n\nfunction isNegativeNumber(payload) {\n  return isNumber(payload) && payload < 0;\n}\n\nfunction isNull(payload) {\n  return getType(payload) === \"Null\";\n}\n\nfunction isOneOf(a, b, c, d, e) {\n  return (value) => a(value) || b(value) || !!c && c(value) || !!d && d(value) || !!e && e(value);\n}\n\nfunction isUndefined(payload) {\n  return getType(payload) === \"Undefined\";\n}\n\nconst isNullOrUndefined = isOneOf(isNull, isUndefined);\n\nfunction isObject(payload) {\n  return isPlainObject(payload);\n}\n\nfunction isObjectLike(payload) {\n  return isAnyObject(payload);\n}\n\nfunction isPositiveNumber(payload) {\n  return isNumber(payload) && payload > 0;\n}\n\nfunction isSymbol(payload) {\n  return getType(payload) === \"Symbol\";\n}\n\nfunction isPrimitive(payload) {\n  return isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber(payload) || isString(payload) || isSymbol(payload);\n}\n\nfunction isPromise(payload) {\n  return getType(payload) === \"Promise\";\n}\n\nfunction isRegExp(payload) {\n  return getType(payload) === \"RegExp\";\n}\n\nfunction isSet(payload) {\n  return getType(payload) === \"Set\";\n}\n\nfunction isWeakMap(payload) {\n  return getType(payload) === \"WeakMap\";\n}\n\nfunction isWeakSet(payload) {\n  return getType(payload) === \"WeakSet\";\n}\n\nexport { getType, isAnyObject, isArray, isBlob, isBoolean, isDate, isEmptyArray, isEmptyObject, isEmptyString, isError, isFile, isFullArray, isFullObject, isFullString, isFunction, isInstanceOf, isMap, isNaNValue, isNegativeNumber, isNull, isNullOrUndefined, isNumber, isObject, isObjectLike, isOneOf, isPlainObject, isPositiveNumber, isPrimitive, isPromise, isRegExp, isSet, isString, isSymbol, isType, isUndefined, isWeakMap, isWeakSet };\n", "import { isArray, isPlainObject } from 'is-what';\n\nfunction assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n  const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n  if (propType === \"enumerable\")\n    carry[key] = newVal;\n  if (includeNonenumerable && propType === \"nonenumerable\") {\n    Object.defineProperty(carry, key, {\n      value: newVal,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nfunction copy(target, options = {}) {\n  if (isArray(target)) {\n    return target.map((item) => copy(item, options));\n  }\n  if (!isPlainObject(target)) {\n    return target;\n  }\n  const props = Object.getOwnPropertyNames(target);\n  const symbols = Object.getOwnPropertySymbols(target);\n  return [...props, ...symbols].reduce((carry, key) => {\n    if (isArray(options.props) && !options.props.includes(key)) {\n      return carry;\n    }\n    const val = target[key];\n    const newVal = copy(val, options);\n    assignProp(carry, key, newVal, target, options.nonenumerable);\n    return carry;\n  }, {});\n}\n\nexport { copy };\n", null, "/*\n * This file is part of midnight-js.\n * Copyright (C) 2025 Midnight Foundation\n * SPDX-License-Identifier: Apache-2.0\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * You may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer';\nimport { createCipheriv, createDecipheriv, pbkdf2Sync, randomBytes } from 'crypto';\n\nexport type PrivateStoragePasswordProvider = () => string | Promise<string>;\n\nconst ALGORITHM = 'aes-256-gcm';\nconst KEY_LENGTH = 32;\nconst IV_LENGTH = 12;\nconst AUTH_TAG_LENGTH = 16;\nconst SALT_LENGTH = 32;\nconst PBKDF2_ITERATIONS = 100000;\nconst ENCRYPTION_VERSION = 1;\n\nconst VERSION_PREFIX_LENGTH = 1;\nconst HEADER_LENGTH = VERSION_PREFIX_LENGTH + SALT_LENGTH + IV_LENGTH + AUTH_TAG_LENGTH;\n\nexport interface EncryptionMetadata {\n  salt: Buffer;\n  version: number;\n}\n\nexport class StorageEncryption {\n  private readonly encryptionKey: Buffer;\n  private readonly salt: Buffer;\n\n  constructor(password: string, existingSalt?: Buffer) {\n    this.salt = existingSalt ?? randomBytes(SALT_LENGTH);\n    this.encryptionKey = this.deriveKey(password, this.salt);\n  }\n\n  private deriveKey(password: string, salt: Buffer): Buffer {\n    return pbkdf2Sync(password, salt, PBKDF2_ITERATIONS, KEY_LENGTH, 'sha256');\n  }\n\n  encrypt(data: string): string {\n    const plaintext = Buffer.from(data, 'utf-8');\n    const iv = randomBytes(IV_LENGTH);\n    const cipher = createCipheriv(ALGORITHM, this.encryptionKey, iv);\n\n    const encrypted = Buffer.concat([cipher.update(plaintext), cipher.final()]);\n    const authTag = cipher.getAuthTag();\n\n    const version = Buffer.from([ENCRYPTION_VERSION]);\n    const result = Buffer.concat([version, this.salt, iv, authTag, encrypted]);\n\n    return result.toString('base64');\n  }\n\n  decrypt(encryptedData: string): string {\n    const data = Buffer.from(encryptedData, 'base64');\n\n    if (data.length < HEADER_LENGTH) {\n      throw new Error('Invalid encrypted data: too short');\n    }\n\n    const version = data[0];\n    if (version !== ENCRYPTION_VERSION) {\n      throw new Error(`Unsupported encryption version: ${version}`);\n    }\n\n    const salt = data.subarray(VERSION_PREFIX_LENGTH, VERSION_PREFIX_LENGTH + SALT_LENGTH);\n    const iv = data.subarray(VERSION_PREFIX_LENGTH + SALT_LENGTH, VERSION_PREFIX_LENGTH + SALT_LENGTH + IV_LENGTH);\n    const authTag = data.subarray(\n      VERSION_PREFIX_LENGTH + SALT_LENGTH + IV_LENGTH,\n      VERSION_PREFIX_LENGTH + SALT_LENGTH + IV_LENGTH + AUTH_TAG_LENGTH\n    );\n    const encrypted = data.subarray(HEADER_LENGTH);\n\n    if (!this.salt.equals(salt)) {\n      throw new Error('Salt mismatch: data was encrypted with a different password');\n    }\n\n    const decipher = createDecipheriv(ALGORITHM, this.encryptionKey, iv);\n    decipher.setAuthTag(authTag);\n\n    const decrypted = Buffer.concat([decipher.update(encrypted), decipher.final()]);\n    return decrypted.toString('utf-8');\n  }\n\n  static isEncrypted(data: string): boolean {\n    try {\n      const buffer = Buffer.from(data, 'base64');\n      return buffer.length >= HEADER_LENGTH && buffer[0] === ENCRYPTION_VERSION;\n    } catch {\n      return false;\n    }\n  }\n\n  getSalt(): Buffer {\n    return this.salt;\n  }\n}\n\nconst validatePassword = (password: string): void => {\n  if (!password) {\n    throw new Error(\n      'Password is required for private state encryption.\\n' +\n      'Please provide a password via privateStoragePasswordProvider in the configuration.'\n    );\n  }\n\n  if (password.length < 16) {\n    throw new Error(\n      'Password must be at least 16 characters long.\\n' +\n      'Use a strong, randomly generated password for production.'\n    );\n  }\n};\n\nexport const getPasswordFromProvider = async (provider: PrivateStoragePasswordProvider): Promise<string> => {\n  const password = await provider();\n  validatePassword(password);\n  return password;\n};\n", "/*\n * This file is part of midnight-js.\n * Copyright (C) 2025 Midnight Foundation\n * SPDX-License-Identifier: Apache-2.0\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * You may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ContractAddress, SigningKey } from '@midnight-ntwrk/compact-runtime';\nimport type { PrivateStateId, PrivateStateProvider, WalletProvider } from '@midnight-ntwrk/midnight-js-types';\nimport { type AbstractSublevel } from 'abstract-level';\nimport { Buffer } from 'buffer';\nimport { Level } from 'level';\nimport _ from 'lodash';\nimport * as superjson from 'superjson';\n\nimport { getPasswordFromProvider, type PrivateStoragePasswordProvider, StorageEncryption } from './storage-encryption';\n\n/**\n * The default name of the indexedDB database for Midnight.\n */\nexport const MN_LDB_DEFAULT_DB_NAME = 'midnight-level-db';\n\n/**\n * The default name of the private state store.\n */\nexport const MN_LDB_DEFAULT_PRIS_STORE_NAME = 'private-states';\n\n/**\n * The default name of the signing key store.\n */\nexport const MN_LDB_DEFAULT_KEY_STORE_NAME = 'signing-keys';\n\n/**\n * Optional properties for the indexedDB based private state provider configuration.\n */\nexport interface LevelPrivateStateProviderConfig {\n  /**\n   * The name of the LevelDB database used to store all Midnight related data.\n   */\n  readonly midnightDbName: string;\n  /**\n   * The name of the object store containing private states.\n   */\n  readonly privateStateStoreName: string;\n  /**\n   * The name of the object store containing signing keys.\n   */\n  readonly signingKeyStoreName: string;\n  /**\n   * Wallet provider used to get the encryption public key for password derivation.\n   * If privateStoragePasswordProvider is not provided, the wallet's encryption public key\n   * will be used as the password.\n   */\n  readonly walletProvider?: WalletProvider;\n  /**\n   * Provider function that returns the password used for encrypting private state.\n   * The password must be at least 16 characters long.\n   *\n   * If not provided, defaults to using walletProvider.getEncryptionPublicKey().\n   *\n   * @example\n   * ```typescript\n   * // Using default (wallet's encryption public key)\n   * { walletProvider: wallet }\n   *\n   * // Using custom password provider\n   * {\n   *   walletProvider: wallet,\n   *   privateStoragePasswordProvider: async () => await getUserPassword()\n   * }\n   * ```\n   */\n  readonly privateStoragePasswordProvider?: PrivateStoragePasswordProvider;\n}\n\n/**\n * The default configuration for the level database.\n */\nexport const DEFAULT_CONFIG = {\n  /**\n   * The name of the database.\n   */\n  midnightDbName: MN_LDB_DEFAULT_DB_NAME,\n  /**\n   * The name of the \"level\" on which to store private state.\n   */\n  privateStateStoreName: MN_LDB_DEFAULT_PRIS_STORE_NAME,\n  /**\n   * The name of the \"level\" on which to store signing keys.\n   */\n  signingKeyStoreName: MN_LDB_DEFAULT_KEY_STORE_NAME\n};\n\nsuperjson.registerCustom<Buffer, string>(\n  {\n    isApplicable: (v): v is Buffer => v instanceof Buffer,\n    serialize: (v) => v.toString('hex'),\n    deserialize: (v) => Buffer.from(v, 'hex')\n  },\n  'buffer'\n);\n\nconst withSubLevel = async <K, V, A>(\n  dbName: string,\n  levelName: string,\n  thunk: (subLevel: AbstractSublevel<Level, string | Uint8Array | Buffer, K, V>) => Promise<A>\n): Promise<A> => {\n  const level = new Level(dbName, {\n    createIfMissing: true\n  });\n  const subLevel = level.sublevel<K, V>(levelName, {\n    valueEncoding: 'utf-8'\n  });\n  try {\n    await level.open();\n    await subLevel.open();\n    return await thunk(subLevel);\n  } finally {\n    await subLevel.close();\n    await level.close();\n  }\n};\n\nconst METADATA_KEY = '__midnight_encryption_metadata__';\n\nconst getOrCreateEncryption = async (\n  dbName: string,\n  levelName: string,\n  passwordProvider: PrivateStoragePasswordProvider\n): Promise<StorageEncryption> => {\n  const password = await getPasswordFromProvider(passwordProvider);\n\n  return withSubLevel<string, string, StorageEncryption>(dbName, levelName, async (subLevel) => {\n    try {\n      const metadataJson = await subLevel.get(METADATA_KEY);\n      if (!metadataJson) {\n        throw new Error('Metadata not found');\n      }\n      const metadata = JSON.parse(metadataJson);\n      const salt = Buffer.from(metadata.salt, 'hex');\n      return new StorageEncryption(password, salt);\n    } catch {\n      const encryption = new StorageEncryption(password);\n      const metadata = {\n        salt: encryption.getSalt().toString('hex'),\n        version: 1\n      };\n      await subLevel.put(METADATA_KEY, JSON.stringify(metadata));\n      return encryption;\n    }\n  });\n};\n\nconst subLevelMaybeGet = async <K, V>(\n  dbName: string,\n  levelName: string,\n  key: K,\n  passwordProvider: PrivateStoragePasswordProvider\n): Promise<V | null> => {\n  const encryption = await getOrCreateEncryption(dbName, levelName, passwordProvider);\n\n  return withSubLevel<K, string, V | null>(dbName, levelName, async (subLevel) => {\n    try {\n      const encryptedValue = await subLevel.get(key);\n\n      if (encryptedValue === undefined) {\n        return null;\n      }\n\n      let decryptedValue: string;\n\n      if (StorageEncryption.isEncrypted(encryptedValue)) {\n        decryptedValue = encryption.decrypt(encryptedValue);\n      } else {\n        decryptedValue = encryptedValue;\n        const reEncrypted = encryption.encrypt(encryptedValue);\n        await subLevel.put(key, reEncrypted);\n      }\n\n      const value = superjson.parse<V>(decryptedValue);\n\n      if (value === undefined) {\n        return null;\n      }\n\n      return value;\n    } catch (error: unknown) {\n      if (error && typeof error === 'object' && 'code' in error && error.code === 'LEVEL_NOT_FOUND') {\n        return null;\n      }\n      throw error;\n    }\n  });\n};\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * Constructs an instance of {@link PrivateStateProvider} based on {@link Level} database.\n *\n * @param config Database configuration options.\n */\nexport const levelPrivateStateProvider = <PSI extends PrivateStateId, PS = any>(\n  config: Partial<LevelPrivateStateProviderConfig>\n): PrivateStateProvider<PSI, PS> => {\n  const fullConfig = _.defaults(config, DEFAULT_CONFIG);\n\n  if (config.privateStoragePasswordProvider && config.walletProvider) {\n    throw new Error(\n      'Cannot provide both privateStoragePasswordProvider and walletProvider.\\n' +\n      'Provide only one: walletProvider for default behavior, or privateStoragePasswordProvider for custom password.'\n    );\n  }\n\n  if (!config.privateStoragePasswordProvider && !config.walletProvider) {\n    throw new Error(\n      'Either privateStoragePasswordProvider or walletProvider must be provided.\\n' +\n      'Provide walletProvider to use wallet encryption key, or privateStoragePasswordProvider for custom password.'\n    );\n  }\n\n  const passwordProvider: PrivateStoragePasswordProvider = config.privateStoragePasswordProvider ||\n    (() => config.walletProvider!.getEncryptionPublicKey());\n\n  return {\n    get(privateStateId: PSI): Promise<PS | null> {\n      return subLevelMaybeGet<PSI, PS>(\n        fullConfig.midnightDbName,\n        fullConfig.privateStateStoreName,\n        privateStateId,\n        passwordProvider\n      );\n    },\n    remove(privateStateId: PSI): Promise<void> {\n      return withSubLevel<PSI, string, void>(fullConfig.midnightDbName, fullConfig.privateStateStoreName, (subLevel) =>\n        subLevel.del(privateStateId)\n      );\n    },\n    async set(privateStateId: PSI, state: PS): Promise<void> {\n      const encryption = await getOrCreateEncryption(\n        fullConfig.midnightDbName,\n        fullConfig.privateStateStoreName,\n        passwordProvider\n      );\n      const serialized = superjson.stringify(state);\n      const encrypted = encryption.encrypt(serialized);\n\n      return withSubLevel<PSI, string, void>(fullConfig.midnightDbName, fullConfig.privateStateStoreName, (subLevel) =>\n        subLevel.put(privateStateId, encrypted)\n      );\n    },\n    clear(): Promise<void> {\n      return withSubLevel(fullConfig.midnightDbName, fullConfig.privateStateStoreName, (subLevel) => subLevel.clear());\n    },\n    getSigningKey(address: ContractAddress): Promise<SigningKey | null> {\n      return subLevelMaybeGet<ContractAddress, SigningKey>(\n        fullConfig.midnightDbName,\n        fullConfig.signingKeyStoreName,\n        address,\n        passwordProvider\n      );\n    },\n    removeSigningKey(address: ContractAddress): Promise<void> {\n      return withSubLevel<ContractAddress, string, void>(\n        fullConfig.midnightDbName,\n        fullConfig.signingKeyStoreName,\n        (subLevel) => subLevel.del(address)\n      );\n    },\n    async setSigningKey(address: ContractAddress, signingKey: SigningKey): Promise<void> {\n      const encryption = await getOrCreateEncryption(\n        fullConfig.midnightDbName,\n        fullConfig.signingKeyStoreName,\n        passwordProvider\n      );\n      const serialized = superjson.stringify(signingKey);\n      const encrypted = encryption.encrypt(serialized);\n\n      return withSubLevel<ContractAddress, string, void>(\n        fullConfig.midnightDbName,\n        fullConfig.signingKeyStoreName,\n        (subLevel) => subLevel.put(address, encrypted)\n      );\n    },\n    clearSigningKeys(): Promise<void> {\n      return withSubLevel(fullConfig.midnightDbName, fullConfig.signingKeyStoreName, (subLevel) => subLevel.clear());\n    }\n  };\n};\n"],
  "mappings": "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",
  "names": ["Buffer", "Buffer", "ReflectApply", "ReflectOwnKeys", "NumberIsNaN", "once", "copy", "value", "Buffer", "name", "prefixLength", "encodedKey", "mappedKey", "value", "require_abstract_level", "deserialize", "_", "deserialize", "_", "_", "walker", "transformed", "result", "getType", "isArray", "getType", "isPlainObject", "getType", "isNull", "getType", "isUndefined", "isArray", "isPlainObject", "_"]
}
